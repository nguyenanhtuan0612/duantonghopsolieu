/* jasmine-fixture - 2.0.0
 * Makes injecting HTML snippets into the DOM easy & clean!
 * https://github.com/searls/jasmine-fixture
 */
!function(){var a=(1,eval)("this");a.hasOwnProperty("emmet")&&(a.__jasmineFixtureEmmetNoConflict=a.emmet)}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.emmet=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"./lib/emmet.js":[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(a){module.exports=a(require,exports,module)};define(function(require,exports,module){function getFileName(a){var b=/([\w\.\-]+)$/i,c=b.exec(a);return c?c[1]:""}function normalizeProfile(a){return"object"==typeof a&&("indent"in a&&(a.indent=!!a.indent),"self_closing_tag"in a&&"number"==typeof a.self_closing_tag&&(a.self_closing_tag=!!a.self_closing_tag)),a}var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;return{expandAbbreviation:function(a,b,c,d){return parser.expand(a,{syntax:b,profile:c,contextNode:d})},run:function(a){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(a){var b=file.getExt(a);return"json"===b||"js"===b});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(a){preferences.load(utils.parseJSON(a))},loadSnippets:function(a){a=utils.parseJSON(a);var b=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(b,a),"user")},loadSystemSnippets:function(a){resources.setVocabulary(utils.parseJSON(a),"system")},loadCIU:function(a){ciu.load(utils.parseJSON(a))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(a){a=utils.parseJSON(a),a.snippets&&this.loadSnippets(a.snippets),a.preferences&&this.loadPreferences(a.preferences),a.profiles&&this.loadProfiles(a.profiles),a.caniuse&&this.loadCIU(a.caniuse);var b=a.syntaxProfiles||a.syntaxprofiles;b&&this.loadSyntaxProfiles(b)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(a){a=utils.parseJSON(a);var b={};Object.keys(a).forEach(function(c){var d=a[c];c in b||(b[c]={}),b[c].profile=normalizeProfile(d)}),this.loadSnippets(b)},loadProfiles:function(a){a=utils.parseJSON(a),Object.keys(a).forEach(function(b){profile.create(b,normalizeProfile(a[b]))})},require:require,actions:actions,parser:parser,file:file,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":"action/main.js","./assets/caniuse":"assets/caniuse.js","./assets/htmlMatcher":"assets/htmlMatcher.js","./assets/logger":"assets/logger.js","./assets/preferences":"assets/preferences.js","./assets/profile":"assets/profile.js","./assets/resources":"assets/resources.js","./assets/tabStops":"assets/tabStops.js","./parser/abbreviation":"parser/abbreviation.js","./plugin/file":"plugin/file.js","./utils/action":"utils/action.js","./utils/common":"utils/common.js","./utils/editor":"utils/editor.js"}],"action/balance.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a[a.length-1]}function e(a,b){var c=k.outputInfo(a),d=c.content,e=m(a.getSelectionRange());if(p&&!p.range.equal(e)&&(p=null),p&&e.length())if("in"==b){if("tag"==p.type&&!p.close)return!1;if(p.range.equal(p.outerRange))p.range=p.innerRange;else{var f=j.narrowToNonSpace(d,p.innerRange);p=i.find(d,f.start+1),p&&p.range.equal(e)&&p.outerRange.equal(e)&&(p.range=p.innerRange)}}else!p.innerRange.equal(p.outerRange)&&p.range.equal(p.innerRange)&&e.equal(p.range)?p.range=p.outerRange:(p=i.find(d,e.start),p&&p.range.equal(e)&&p.innerRange.equal(e)&&(p.range=p.outerRange));else p=i.find(d,e.start);return p&&(p.innerRange.equal(e)&&(p.range=p.outerRange),!p.range.equal(e))?(a.createSelection(p.range.start,p.range.end),!0):(p=null,!1)}function f(a,b){var c=[a.range(!0)];c.push(a.valueRange(!0));var e=o.nestedSectionsInRule(a),f=a.list();if(f.length||e.length){var g=Number.POSITIVE_INFINITY,h=-1;f.length&&(g=f[0].namePosition(!0),h=d(f).range(!0).end),e.length&&(e[0].start<g&&(g=e[0].start),d(e).end>h&&(h=d(e).end)),c.push(m.create2(g,h))}c=c.concat(e);var i=n.propertyFromPosition(a,b)||f[0];if(i){c.push(i.range(!0));var j=i.valueRange(!0);i.end()||(j._unterminated=!0),c.push(j)}return c}function g(a,b){var c;if("string"==typeof a){var d=o.matchEnclosingRule(a,b);d&&(c=n.parse(d.substring(a),{offset:d.start}))}else c=a;if(!c)return null;var e=f(c,b);return e=e.filter(function(a){return!!a.length}),j.unique(e,function(a){return a.valueOf()})}function h(a,b){var c=k.outputInfo(a),e=c.content,f=m(a.getSelectionRange()),h=g(c.content,f.start);if(!h&&f.length())try{var i=n.parse(f.substring(c.content),{offset:f.start});h=g(i,f.start)}catch(l){}if(!h)return!1;h=m.sort(h,!0);var o=j.find(h,function(a){return a.equal(f)});if(o||(o=j.find(h,function(a){return a._unterminated?a.include(f.start):a.inside(f.start)})),!o)return!1;var p=h.indexOf(o);if(o.equal(f)&&(p+="out"==b?1:-1),0>p||p>=h.length)if(p>=h.length&&"out"==b){pos=o.start-1;var q=g(e,pos);q&&(o=d(q.filter(function(a){return a.inside(pos)})))}else o=null;else o=h[p];return o?(a.createSelection(o.start,o.end),!0):!1}var i=a("../assets/htmlMatcher"),j=a("../utils/common"),k=a("../utils/editor"),l=a("../utils/action"),m=a("../assets/range"),n=a("../editTree/css"),o=a("../utils/cssSections"),p=null;return{balance:function(a,b){b=String((b||"out").toLowerCase());var c=k.outputInfo(a);return l.isSupportedCSS(c.syntax)?h(a,b):e(a,b)},balanceInwardAction:function(a){return this.balance(a,"in")},balanceOutwardAction:function(a){return this.balance(a,"out")},goToMatchingPairAction:function(a){var b=String(a.getContent()),c=a.getCaretPos();"<"==b.charAt(c)&&c++;var d=i.tag(b,c);return d&&d.close?(d.open.range.inside(c)?a.setCaretPos(d.close.range.start):a.setCaretPos(d.open.range.start),!0):!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/range":"assets/range.js","../editTree/css":"editTree/css.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/cssSections":"utils/cssSections.js","../utils/editor":"utils/editor.js"}],"action/base64.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){return c=c||0,b.charAt(c)==a.charAt(0)&&b.substr(c,a.length)==a}function e(a,b,c){var d=a.getFilePath(),e="application/octet-stream";if(null===d)throw"You should save your file before using this action";var f=g.locateFile(d,b);if(null===f)throw"Can't find "+b+" file";return g.read(f,function(d,j){if(d)throw"Unable to read "+f+": "+d;var k=h.encode(String(j));if(!k)throw"Can't encode file content to base64";k="data:"+(i.mimeTypes[String(g.getExt(f))]||e)+";base64,"+k,a.replaceContent("$0"+k,c,c+b.length)}),!0}function f(a,b,c){var d=String(a.prompt("Enter path to file (absolute or relative)"));if(!d)return!1;var e=g.createPath(a.getFilePath(),d);if(!e)throw"Can't save file";return g.save(e,h.decode(b.replace(/^data\:.+?;.+?,/,""))),a.replaceContent("$0"+d,c,c+b.length),!0}var g=a("../plugin/file"),h=a("../utils/base64"),i=a("../utils/action"),j=a("../utils/editor");return{encodeDecodeDataUrlAction:function(a){var b=String(a.getSelection()),c=a.getCaretPos(),g=j.outputInfo(a);if(!b)for(var h,i=g.content;c-->=0;){if(d("src=",i,c)){(h=i.substr(c).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(b=h[3],c+=h[1].length);break}if(d("url(",i,c)){(h=i.substr(c).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(b=h[3],c+=h[1].length);break}}return b?d("data:",b)?f(a,b,c):e(a,b,c):!1}}})},{"../plugin/file":"plugin/file.js","../utils/action":"utils/action.js","../utils/base64":"utils/base64.js","../utils/editor":"utils/editor.js"}],"action/editPoints.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){function d(a){for(var b=a;b>=0;){var c=f.charAt(b);if("\n"==c||"\r"==c)break;b--}return f.substring(b,a)}b=b||1,c=c||0;for(var e=a.getCaretPos()+c,f=String(a.getContent()),g=f.length,h=-1,i=/^\s+$/;g>=e&&e>=0;){e+=b;var j=f.charAt(e),k=f.charAt(e+1),l=f.charAt(e-1);switch(j){case'"':case"'":k==j&&"="==l&&(h=e+1);break;case">":"<"==k&&(h=e+1);break;case"\n":case"\r":i.test(d(e-1))&&(h=e)}if(-1!=h)break}return h}return{previousEditPointAction:function(a,b,c){var e=a.getCaretPos(),f=d(a,-1);return f==e&&(f=d(a,-1,-2)),-1!=f?(a.setCaretPos(f),!0):!1},nextEditPointAction:function(a,b,c){var e=d(a,1);return-1!=e?(a.setCaretPos(e),!0):!1}}})},{}],"action/evaluateMath.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../utils/action"),e=a("../utils/common"),f=a("../utils/math"),g=a("../assets/range");return{evaluateMathAction:function(a){var b=a.getContent(),c=".+-*/\\",h=g(a.getSelectionRange());if(h.length()||(h=d.findExpressionBounds(a,function(a){return e.isNumeric(a)||-1!=c.indexOf(a)})),h&&h.length()){var i=h.substring(b);i=i.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var j=e.prettifyNumber(f.evaluate(i));return a.replaceContent(j,h.start,h.end),a.setCaretPos(h.start+j.length),!0}catch(k){}}return!1}}})},{"../assets/range":"assets/range.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/math":"utils/math.js"}],"action/expandAbbreviation.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=f(a.getSelectionRange()),c=String(a.getContent());if(b.length())return b.substring(c);var d=a.getCurrentLineRange();return j.extractAbbreviation(c.substring(d.start,b.start))}var e=a("../assets/handlerList"),f=a("../assets/range"),g=a("../assets/preferences"),h=a("../utils/common"),i=a("../utils/editor"),j=a("../utils/action"),k=a("../resolver/cssGradient"),l=a("../parser/abbreviation"),m=e.create();return m.add(function(a,b,c){var e=a.getSelectionRange().end,f=d(a);if(f){var h=l.expand(f,{syntax:b,profile:c,contextNode:j.captureContext(a)});if(h){var i=e-f.length,k=e,m=g.getArray("css.syntaxes");if(m&&~m.indexOf(b)){var n=a.getContent();";"==n.charAt(e)&&";"==h.charAt(h.length-1)&&k++}return a.replaceContent(h,i,k),!0}}return!1},{order:-1}),m.add(k.expandAbbreviationHandler.bind(k)),{expandAbbreviationAction:function(a,b,c){var d=h.toArray(arguments),e=i.outputInfo(a,b,c);return d[1]=e.syntax,d[2]=e.profile,m.exec(!1,d)},expandAbbreviationWithTabAction:function(a,b,c){var d=a.getSelection(),e="	";if(d){var g=f(a.getSelectionRange()),i=h.padString(d,e);a.replaceContent(e+"${0}",a.getCaretPos());var j=f(a.getCaretPos(),g.length());return a.replaceContent(i,j.start,j.end,!0),a.createSelection(j.start,j.start+i.length),!0}return this.expandAbbreviationAction(a,b,c)||a.replaceContent(e,a.getCaretPos()),!0},_defaultHandler:function(a,b,c){var d=a.getSelectionRange().end,e=this.findAbbreviation(a);if(e){var f=j.captureContext(a),g=l.expand(e,b,c,f);if(g)return a.replaceContent(g,d-e.length,d),!0}return!1},addHandler:function(a,b){m.add(a,b)},removeHandler:function(a){m.remove(a)},findAbbreviation:d}})},{"../assets/handlerList":"assets/handlerList.js","../assets/preferences":"assets/preferences.js","../assets/range":"assets/range.js","../parser/abbreviation":"parser/abbreviation.js","../resolver/cssGradient":"resolver/cssGradient.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/incrementDecrement.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a=a.replace(/^\-/,""),~a.indexOf(".")?a.split(".")[0].length:a.length}var e=a("../utils/common"),f=a("../utils/action");return{increment01Action:function(a){return this.incrementNumber(a,.1)},increment1Action:function(a){return this.incrementNumber(a,1)},increment10Action:function(a){return this.incrementNumber(a,10)},decrement01Action:function(a){return this.incrementNumber(a,-.1)},decrement1Action:function(a){return this.incrementNumber(a,-1)},decrement10Action:function(a){return this.incrementNumber(a,-10)},incrementNumber:function(a,b){var c=!1,g=!1,h=f.findExpressionBounds(a,function(a,b,d){return e.isNumeric(a)?!0:"."==a?e.isNumeric(d.charAt(b+1))?g?!1:g=!0:!1:"-"==a?c?!1:c=!0:!1});if(h&&h.length()){var i=h.substring(String(a.getContent())),j=parseFloat(i);if(!isNaN(j)){if(j=e.prettifyNumber(j+b),/^(\-?)0+[1-9]/.test(i)){var k="";RegExp.$1&&(k="-",j=j.substring(1));var l=j.split(".");l[0]=e.zeroPadString(l[0],d(i)),j=k+l.join(".")}return a.replaceContent(j,h.start,h.end),a.createSelection(h.start,h.start+j.length),!0}}return!1}}})},{"../utils/action":"utils/action.js","../utils/common":"utils/common.js"}],"action/lineBreaks.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../assets/preferences"),e=a("../utils/common"),f=(a("../assets/resources"),a("../assets/htmlMatcher")),g=a("../utils/editor"),h=["html","xml","xsl"];return d.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),{insertLineBreakAction:function(a){if(!this.insertLineBreakOnlyAction(a)){for(var b,c=g.getCurrentLinePadding(a),d=String(a.getContent()),e=a.getCaretPos(),f=d.length,h="\n",i=a.getCurrentLineRange(),j="",k=i.end+1;f>k&&(b=d.charAt(k)," "==b||"	"==b);k++)j+=b;j.length>c.length?a.replaceContent(h+j,e,e,!0):a.replaceContent(h,e)}return!0},insertLineBreakOnlyAction:function(a){var b=g.outputInfo(a),c=a.getCaretPos(),i="\n",j="	";if(~h.indexOf(b.syntax)){var k=f.tag(b.content,c);if(k&&!k.innerRange.length())return a.replaceContent(i+j+e.getCaretPlaceholder()+i,c),!0}else if("css"==b.syntax){var l=b.content;if(c&&"{"==l.charAt(c-1)){var m=d.get("css.closeBraceIndentation"),n="}"==l.charAt(c);if(!n)for(var o,p=c,q=l.length;q>p&&(o=l.charAt(p),"{"!=o);p++)if("}"==o){m="",n=!0;break}n||(m+="}");var r=i+j+e.getCaretPlaceholder()+m;return a.replaceContent(r,c),!0}}return!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/preferences":"assets/preferences.js","../assets/resources":"assets/resources.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/main.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){a=a.toLowerCase(),c=c||{},"string"==typeof c&&(c={label:c}),c.label||(c.label=e(a)),g[a]={name:a,fn:b,options:c}}function e(a){return f.trim(a.charAt(0).toUpperCase()+a.substring(1).replace(/_[a-z]/g,function(a){return" "+a.charAt(1).toUpperCase()}))}var f=a("../utils/common"),g={},h={base64:a("./base64"),editPoints:a("./editPoints"),evaluateMath:a("./evaluateMath"),expandAbbreviation:a("./expandAbbreviation"),incrementDecrement:a("./incrementDecrement"),lineBreaks:a("./lineBreaks"),balance:a("./balance"),mergeLines:a("./mergeLines"),reflectCSSValue:a("./reflectCSSValue"),removeTag:a("./removeTag"),selectItem:a("./selectItem"),selectLine:a("./selectLine"),splitJoinTag:a("./splitJoinTag"),toggleComment:a("./toggleComment"),updateImageSize:a("./updateImageSize"),wrapWithAbbreviation:a("./wrapWithAbbreviation"),updateTag:a("./updateTag")},i=function(a,b){var c=h[a];return c[b].bind(c)};return d("encode_decode_data_url",i("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),d("prev_edit_point",i("editPoints","previousEditPointAction"),"Previous Edit Point"),d("next_edit_point",i("editPoints","nextEditPointAction"),"Next Edit Point"),d("evaluate_math_expression",i("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),d("expand_abbreviation_with_tab",i("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),d("expand_abbreviation",i("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),d("insert_formatted_line_break_only",i("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),d("insert_formatted_line_break",i("lineBreaks","insertLineBreakAction"),{hidden:!0}),d("balance_inward",i("balance","balanceInwardAction"),"Balance (inward)"),d("balance_outward",i("balance","balanceOutwardAction"),"Balance (outward)"),d("matching_pair",i("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),d("merge_lines",i("mergeLines","mergeLinesAction"),"Merge Lines"),d("reflect_css_value",i("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),d("remove_tag",i("removeTag","removeTagAction"),"HTML/Remove Tag"),d("select_next_item",i("selectItem","selectNextItemAction"),"Select Next Item"),d("select_previous_item",i("selectItem","selectPreviousItemAction"),"Select Previous Item"),d("split_join_tag",i("splitJoinTag","splitJoinTagAction"),"HTML/Split\\Join Tag Declaration"),d("toggle_comment",i("toggleComment","toggleCommentAction"),"Toggle Comment"),d("update_image_size",i("updateImageSize","updateImageSizeAction"),"Update Image Size"),d("wrap_with_abbreviation",i("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),d("update_tag",i("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(a){var b=a>0?"increment":"decrement",c=String(Math.abs(a)).replace(".","").substring(0,2),e=b+"_number_by_"+c,f=b+c+"Action",g="Numbers/"+b.charAt(0).toUpperCase()+b.substring(1)+" number by "+Math.abs(a);d(e,i("incrementDecrement",f),g)}),{add:d,get:function(a){return g[a.toLowerCase()]},run:function(a,b){Array.isArray(b)||(b=f.toArray(arguments,1));var c=this.get(a);if(!c)throw new Error('Action "'+a+'" is not defined');return c.fn.apply(c,b)},getAll:function(){return g},getList:function(){var a=this.getAll();return Object.keys(a).map(function(b){return a[b]})},getMenu:function(a){var b=[];return a=a||[],this.getList().forEach(function(c){if(!c.options.hidden&&!~a.indexOf(c.name)){var d=e(c.name),g=b;if(c.options.label){var h=c.options.label.split("/");d=h.pop();for(var i,j;i=h.shift();)j=f.find(g,function(a){return"submenu"==a.type&&a.name==i}),j||(j={name:i,type:"submenu",items:[]},g.push(j)),g=j.items}g.push({type:"action",name:c.name,label:d})}}),b},getActionNameForMenuTitle:function(a,b){return f.find(b||this.getMenu(),function(b){return"action"!=b.type?this.getActionNameForMenuTitle(a,b.items):b.label==a||b.name==a?b.name:void 0},this)}}})},{"../utils/common":"utils/common.js","./balance":"action/balance.js","./base64":"action/base64.js","./editPoints":"action/editPoints.js","./evaluateMath":"action/evaluateMath.js","./expandAbbreviation":"action/expandAbbreviation.js","./incrementDecrement":"action/incrementDecrement.js","./lineBreaks":"action/lineBreaks.js","./mergeLines":"action/mergeLines.js","./reflectCSSValue":"action/reflectCSSValue.js","./removeTag":"action/removeTag.js","./selectItem":"action/selectItem.js","./selectLine":"action/selectLine.js","./splitJoinTag":"action/splitJoinTag.js","./toggleComment":"action/toggleComment.js","./updateImageSize":"action/updateImageSize.js","./updateTag":"action/updateTag.js","./wrapWithAbbreviation":"action/wrapWithAbbreviation.js"}],"action/mergeLines.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../assets/htmlMatcher"),e=a("../utils/common"),f=a("../utils/editor"),g=a("../assets/range");return{mergeLinesAction:function(a){var b=f.outputInfo(a),c=g(a.getSelectionRange());if(!c.length()){var h=d.find(b.content,a.getCaretPos());h&&(c=h.outerRange)}if(c.length()){for(var i=c.substring(b.content),j=e.splitByLines(i),k=1;k<j.length;k++)j[k]=j[k].replace(/^\s+/,"");i=j.join("").replace(/\s{2,}/," ");var l=i.length;return i=e.escapeText(i),a.replaceContent(i,c.start,c.end),a.createSelection(c.start,c.start+l),!0}return!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/range":"assets/range.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/reflectCSSValue.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=o.outputInfo(a),c=a.getCaretPos(),d=l.parseFromPosition(b.content,c);if(d){var e=d.itemFromPosition(c,!0);if(e){var f=d.source,g=d.options.offset,h=c-g-e.range().start;return q.exec(!1,[e]),f!==d.source?{data:d.source,start:g,end:g+f.length,caret:g+e.range().start+h}:void 0}}}function e(a){a=l.baseName(a);var b,c="^(?:\\-\\w+\\-)?";return"opacity"!=a&&"filter"!=a||!j.get("css.reflect.oldIEOpacity")?(b=a.match(/^border-radius-(top|bottom)(left|right)/))?new RegExp(c+"(?:"+a+"|border-"+b[1]+"-"+b[2]+"-radius)$"):(b=a.match(/^border-(top|bottom)-(left|right)-radius/))?new RegExp(c+"(?:"+a+"|border-radius-"+b[1]+b[2]+")$"):new RegExp(c+a+"$"):new RegExp(c+"(?:opacity|filter)$")}function f(a,b){var c=/^\-(\w+)\-/,d=c.test(a)?RegExp.$1.toLowerCase():"",e=l.findParts(b);return e.reverse(),e.forEach(function(a){var e=a.substring(b).replace(c,""),f=k.vendorPrefixes(e);f&&(d&&~f.indexOf(d)&&(e="-"+d+"-"+e),b=m.replaceSubstring(b,e,a))}),b}function g(a,b){var c=h(a.name(),a.value(),b.name(),b.value());c=f(b.name(),c),b.value(c)}function h(a,b,c,d){if(a=l.baseName(a),c=l.baseName(c),"opacity"==a&&"filter"==c)return d.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(b)));if("filter"==a&&"opacity"==c){var e=b.match(/opacity=([^)]*)/i);return e?m.prettifyNumber(parseInt(e[1],10)/100):d}return b}var i=a("../assets/handlerList"),j=a("../assets/preferences"),k=a("../resolver/css"),l=a("../editTree/css"),m=a("../utils/common"),n=a("../utils/action"),o=a("../utils/editor"),p=a("../resolver/cssGradient");j.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.		Note that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var q=i.create();return c=c||{},c.exports={reflectCSSValueAction:function(a){return"css"!=a.getSyntax()?!1:n.compoundUpdate(a,d(a))},_defaultHandler:function(a){var b=e(a.name());a.parent.list().forEach(function(c){b.test(c.name())&&g(a,c)})},addHandler:function(a,b){q.add(a,b)},removeHandler:function(a){q.remove(a)}},q.add(c.exports._defaultHandler.bind(c.exports),{order:-1}),q.add(p.reflectValueHandler.bind(p)),c.exports})},{"../assets/handlerList":"assets/handlerList.js","../assets/preferences":"assets/preferences.js","../editTree/css":"editTree/css.js","../resolver/css":"resolver/css.js","../resolver/cssGradient":"resolver/cssGradient.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/removeTag.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../utils/common"),e=a("../utils/editor"),f=a("../assets/htmlMatcher");return{removeTagAction:function(a){var b=e.outputInfo(a),c=f.tag(b.content,a.getCaretPos());if(c){if(c.close){var g=d.narrowToNonSpace(b.content,c.innerRange),h=d.findNewlineBounds(b.content,g.start),i=d.getLinePadding(h.substring(b.content)),j=g.substring(b.content);j=d.unindentString(j,i),a.replaceContent(d.getCaretPlaceholder()+d.escapeText(j),c.outerRange.start,c.outerRange.end)}else a.replaceContent(d.getCaretPlaceholder(),c.range.start,c.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/selectItem.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c,d){for(var e,f,g=v.outputInfo(a).content,h=g.length,i=t(-1,0),j=t(a.getSelectionRange()),k=j.start,l=1e5;k>=0&&h>k&&--l>0;){if(e=c(g,k,b)){if(i.equal(e))break;if(i=e.clone(),f=d(e.substring(g),e.start,j.clone()))return a.createSelection(f.start,f.end),!0;k=b?e.start:e.end-1}k+=b?-1:1}return!1}function e(a){var b=!0;return d(a,!1,function(a,c){return b?(b=!1,j(a,c)):k(a,c)},function(a,b,c){return i(a,b,c,!1)})}function f(a){return d(a,!0,k,function(a,b,c){return i(a,b,c,!0)})}function g(a,b,c){c=c||0;var d,e,f=[],g=-1,i="",j="";return b.forEach(function(b){switch(b.type){case"tag":e=a.substring(b.start,b.end),/^<[\w\:\-]/.test(e)&&f.push(t({start:b.start+1,end:b.end}));break;case"attribute":g=b.start,i=a.substring(b.start,b.end);break;case"string":f.push(t(g,b.end-g)),d=t(b),j=d.substring(a),l(j.charAt(0))&&d.start++,l(j.charAt(j.length-1))&&d.end--,f.push(d),"class"==i&&(f=f.concat(h(d.substring(a),d.start)))}}),f=f.filter(function(a){return a.length()?(a.shift(c),!0):void 0}),u.unique(f,function(a){return a.toString()})}function h(a,b){b=b||0;var c=[],d=x.create(a);d.eatSpace(),d.start=d.pos;for(var e;e=d.next();)/[\s\u00a0]/.test(e)&&(c.push(t(d.start+b,d.pos-d.start-1)),d.eatSpace(),d.start=d.pos);return c.push(t(d.start+b,d.pos-d.start)),c}function i(a,b,c,d){var e=g(a,y.parse(a),b);d&&e.reverse();var f=u.find(e,function(a){return a.equal(c)});if(f){var h=e.indexOf(f);return h<e.length-1?e[h+1]:null}if(d)return u.find(e,function(a){return a.start<c.start});if(!f){var i=e.filter(function(a){return a.inside(c.end)});if(i.length>1)return i[1]}return u.find(e,function(a){return a.end>c.end})}function j(a,b){for(var c;b>=0;){if(c=k(a,b))return c;b--}return null}function k(a,b){var c;return"<"==a.charAt(b)&&(c=a.substring(b,a.length).match(B))?t(b,c[0]):void 0}function l(a){return'"'==a||"'"==a}function m(a){var b=[a.nameRange(!0)],c=A.nestedSectionsInRule(a);return c.forEach(function(a){b.push(t.create2(a.start,a._selectorEnd))}),a.list().forEach(function(a){b=b.concat(n(a))}),b=t.sort(b),b=b.filter(function(a){return!!a.length()}),u.unique(b,function(a){return a.toString()})}function n(a){var b=a.valueRange(!0),c=[a.range(!0),b],d=a.value();return a.valueParts().forEach(function(a){var e=a.clone();c.push(e.shift(b.start));var f=x.create(a.substring(d));if(f.match(/^[\w\-]+\(/,!0)){f.start=f.pos,f.backUp(1),f.skipToPair("(",")"),f.backUp(1);var g=f.current();c.push(t(e.start+f.start,g)),z.findParts(g).forEach(function(a){c.push(t(e.start+f.start+a.start,a.substring(g)))})}}),c}function o(a,b,c){var d=m(a);c&&d.reverse();var e=u.find(d,function(a){return a.equal(b)});if(e)return d[d.indexOf(e)+1];var f=d.filter(function(a){return a.inside(b.end)});if(f.length)return f.sort(function(a,b){return a.length()-b.length()})[0];e=u.find(d,c?function(a){return a.end<b.start}:function(a){return a.end>b.start});return e||(e=d[0]),e}function p(a){return d(a,!1,A.locateRule.bind(A),r)}function q(a){return d(a,!0,A.locateRule.bind(A),s)}function r(a,b,c){var d=z.parse(a,{offset:b});return o(d,c,!1)}function s(a,b,c){var d=z.parse(a,{offset:b});return o(d,c,!0)}var t=a("../assets/range"),u=a("../utils/common"),v=a("../utils/editor"),w=a("../utils/action"),x=a("../assets/stringStream"),y=a("../parser/xml"),z=a("../editTree/css"),A=a("../utils/cssSections"),B=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;return{selectNextItemAction:function(a){return w.isSupportedCSS(a.getSyntax())?p(a):e(a)},selectPreviousItemAction:function(a){return w.isSupportedCSS(a.getSyntax())?q(a):f(a)}}})},{"../assets/range":"assets/range.js","../assets/stringStream":"assets/stringStream.js","../editTree/css":"editTree/css.js","../parser/xml":"parser/xml.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/cssSections":"utils/cssSections.js","../utils/editor":"utils/editor.js"}],"action/selectLine.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){return{selectLineAction:function(a){var b=a.getCurrentLineRange();return a.createSelection(b.start,b.end),!0}}})},{}],"action/splitJoinTag.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){var d=b.selfClosing()||" /",e=c.open.range.substring(c.source).replace(/\s*>$/,d+">"),g=a.getCaretPos();return e.length+c.outerRange.start<g&&(g=e.length+c.outerRange.start),e=f.escapeText(e),a.replaceContent(e,c.outerRange.start,c.outerRange.end),a.setCaretPos(g),!0}function e(a,b,c){var d=a.getCaretPos(),e=b.tag_nl===!0?"\n	\n":"",g=c.outerContent().replace(/\s*\/>$/,">");return d=c.outerRange.start+g.length,g+=e+"</"+c.open.name+">",g=f.escapeText(g),a.replaceContent(g,c.outerRange.start,c.outerRange.end),a.setCaretPos(d),!0}var f=a("../utils/common"),g=(a("../assets/resources"),a("../assets/htmlMatcher")),h=a("../utils/editor"),i=a("../assets/profile");return{splitJoinTagAction:function(a,b){var c=h.outputInfo(a,null,b),f=i.get(c.profile),j=g.tag(c.content,a.getCaretPos());return j?j.close?d(a,f,j):e(a,f,j):!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/profile":"assets/profile.js","../assets/resources":"assets/resources.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/toggleComment.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=j(a.getSelectionRange()),c=m.outputInfo(a);if(!b.length()){var d=n.tag(c.content,a.getCaretPos());d&&(b=d.outerRange)}return h(a,"<!--","-->",b)}function e(a){var b=j(a.getSelectionRange()),c=m.outputInfo(a);if(!b.length()){var d=o.parseFromPosition(c.content,a.getCaretPos());if(d){var e=f(d,a.getCaretPos());b=e?e.range(!0):j(d.nameRange(!0).start,d.source)}}return b.length()||(b=j(a.getCurrentLineRange()),k.narrowToNonSpace(c.content,b)),h(a,"/*","*/",b)}function f(a,b){var c=b-(a.options.offset||0),d=/^[\s\n\r]/;return k.find(a.list(),function(b){return b.range().end===c?d.test(a.source.charAt(c)):b.range().inside(c)})}function g(a,b,c,d){for(var e=-1,f=-1,g=function(b,c){return a.substr(c,b.length)==b};b--;)if(g(c,b)){e=b;break}if(-1!=e){b=e;for(var h=a.length;h>=b++;)if(g(d,b)){
f=b+d.length;break}}return-1!=e&&-1!=f?j(e,f-e):null}function h(a,b,c,d){function e(a){return a.replace(new RegExp("^"+k.escapeForRegexp(b)+"\\s*"),function(a){return h-=a.length,""}).replace(new RegExp("\\s*"+k.escapeForRegexp(c)+"$"),"")}var f=m.outputInfo(a).content,h=a.getCaretPos(),i=null,j=g(f,h,b,c);return j&&j.overlap(d)?(d=j,i=e(d.substring(f))):(i=b+" "+d.substring(f).replace(new RegExp(k.escapeForRegexp(b)+"\\s*|\\s*"+k.escapeForRegexp(c),"g"),"")+" "+c,h+=b.length+1),null!==i?(i=k.escapeText(i),a.setCaretPos(d.start),a.replaceContent(m.unindent(a,i),d.start,d.end),a.setCaretPos(h),!0):!1}var i=a("../assets/preferences"),j=a("../assets/range"),k=a("../utils/common"),l=a("../utils/action"),m=a("../utils/editor"),n=a("../assets/htmlMatcher"),o=a("../editTree/css");return{toggleCommentAction:function(a){var b=m.outputInfo(a);if(l.isSupportedCSS(b.syntax)){var c=a.getCaretPos(),f=n.tag(b.content,c);f&&f.open.range.inside(c)&&(b.syntax="html")}var g=i.getArray("css.syntaxes");return~g.indexOf(b.syntax)?e(a):d(a)}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/preferences":"assets/preferences.js","../assets/range":"assets/range.js","../editTree/css":"editTree/css.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/updateImageSize.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=a.getCaretPos(),c=h.outputInfo(a),d=j.parseFromPosition(c.content,b,!0);d&&"img"==(d.name()||"").toLowerCase()&&f(a,d.value("src"),function(c){if(c){var e=d.range(!0);d.value("width",c.width),d.value("height",c.height,d.indexOf("width")+1),i.compoundUpdate(a,g.extend(e,{data:d.toString(),caret:b}))}})}function e(a){var b=a.getCaretPos(),c=h.outputInfo(a),d=k.parseFromPosition(c.content,b,!0);if(d){var e,j=d.itemFromPosition(b,!0);j&&(e=/url\((["']?)(.+?)\1\)/i.exec(j.value()||""))&&f(a,e[2],function(c){if(c){var e=d.range(!0);d.value("width",c.width+"px"),d.value("height",c.height+"px",d.indexOf("width")+1),i.compoundUpdate(a,g.extend(e,{data:d.toString(),caret:b}))}})}}function f(a,b,c){var d;if(b){if(/^data:/.test(b))return d=l.decode(b.replace(/^data\:.+?;.+?,/,"")),c(i.getImageSize(d));var e=m.locateFile(a.getFilePath(),b);if(null===e)throw"Can't find "+b+" file";m.read(e,function(a,b){if(a)throw"Unable to read "+e+": "+a;b=String(b),c(i.getImageSize(b))})}}var g=a("../utils/common"),h=a("../utils/editor"),i=a("../utils/action"),j=a("../editTree/xml"),k=a("../editTree/css"),l=a("../utils/base64"),m=a("../plugin/file");return{updateImageSizeAction:function(a){return i.isSupportedCSS(a.getSyntax())?e(a):d(a),!0}}})},{"../editTree/css":"editTree/css.js","../editTree/xml":"editTree/xml.js","../plugin/file":"plugin/file.js","../utils/action":"utils/action.js","../utils/base64":"utils/base64.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/updateTag.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){var d=(b.attribute("class")||"").split(/\s+/g);c&&d.push("+"+b.name());var e=function(a){return g.replaceCounter(a,b.counter)};d.forEach(function(b){if(b){b=e(b);var c=b.charAt(0);"+"==c?a.addClass(b.substr(1)):"-"==c?a.removeClass(b.substr(1)):a.value("class",b)}}),b.attributeList().forEach(function(b){if("class"!=b.name.toLowerCase()){var c=b.name.charAt(0);if("+"==c){var d=b.name.substr(1),f=a.get(d);f?f.value(f.value()+e(b.value)):a.value(d,e(b.value))}else"-"==c?a.remove(b.name.substr(1)):a.value(b.name,e(b.value))}})}var e=a("../editTree/xml"),f=(a("../utils/editor"),a("../utils/action")),g=a("../utils/common"),h=a("../parser/abbreviation");return{updateTagAction:function(a,b){if(b=b||a.prompt("Enter abbreviation"),!b)return!1;var c=a.getContent(),d=f.captureContext(a),e=this.getUpdatedTag(b,d,c);return e?(e.name()!=d.name&&d.match.close&&a.replaceContent("</"+e.name()+">",d.match.close.range.start,d.match.close.range.end,!0),a.replaceContent(e.source,d.match.open.range.start,d.match.open.range.end,!0),!0):!1},getUpdatedTag:function(a,b,c,f){if(!b)return null;var g=h.parse(a,f||{}),i=e.parse(b.match.open.range.substring(c),{offset:b.match.outerRange.start});g.children.forEach(function(a,b){d(i,a,b)});var j=g.children[0];return j.data("nameResolved")||i.name(j.name()),i}}})},{"../editTree/xml":"editTree/xml.js","../parser/abbreviation":"parser/abbreviation.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"action/wrapWithAbbreviation.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../assets/range"),e=a("../assets/htmlMatcher"),f=a("../utils/common"),g=a("../utils/editor"),h=a("../utils/action"),i=a("../parser/abbreviation");return{wrapWithAbbreviationAction:function(a,b,c,j){var k=g.outputInfo(a,c,j);if(b=b||a.prompt("Enter abbreviation"),!b)return null;b=String(b);var l=d(a.getSelectionRange());if(!l.length()){var m=e.tag(k.content,l.start);if(!m)return!1;l=f.narrowToNonSpace(k.content,m.range)}var n=f.escapeText(l.substring(k.content)),o=i.expand(b,{pastedContent:g.unindent(a,n),syntax:k.syntax,profile:k.profile,contextNode:h.captureContext(a)});return o?(a.replaceContent(o,l.start,l.end),!0):!1}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/range":"assets/range.js","../parser/abbreviation":"parser/abbreviation.js","../utils/action":"utils/action.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js"}],"assets/caniuse.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function e(a,b){var c=[],d=a,e=b;return d.length>e.length&&(d=b,e=a),e.forEach(function(a){~d.indexOf(a)&&c.push(a)}),c}function f(a,b){"string"==typeof a&&(a=JSON.parse(a)),b||(a=g(a)),q=a.vendors,p=a.css,r=a.era}function g(a){return"string"==typeof a&&(a=JSON.parse(a)),{vendors:h(a),css:i(a),era:j(a)}}function h(a){var b={};return Object.keys(a.agents).forEach(function(c){var d=a.agents[c];b[c]={prefix:d.prefix,versions:d.versions}}),b}function i(a){var b={};a.cats.CSS;return Object.keys(a.data).forEach(function(c){var d=a.data[c];c in o&&o[c].forEach(function(a){b[a]=d.stats})}),b}function j(a){return Object.keys(a.eras).sort(function(a,b){return parseInt(a.substr(1))-parseInt(b.substr(1))})}function k(){var a=Object.keys(q),b=m.getArray("caniuse.vendors");return b&&"all"!=b[0]?e(a,b):a}function l(){var a=m.get("caniuse.era"),b=r.indexOf(a);return~b||(b=r.indexOf("e-2")),b}var m=a("./preferences"),n=a("../utils/common");m.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,		CSS abbreviation resolver will look at Can I Use database first before detecting		CSS properties that should be resolved"),m.define("caniuse.vendors","all","A comma-separated list vendor identifiers		(as described in Can I Use database) that should be supported		when resolving vendor-prefixed properties. Set value to <code>all</code>		to support all available properties"),m.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.		Examples: <code>e0</code> (current version), <code>e1</code> (near future)		<code>e-2</code> (2 versions back) and so on.");var o={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},p=null,q=null,r=null,s=null;return function(a){if("undefined"==typeof d||!d.amd)try{var b=a("fs"),c=a("path");s=b.readFileSync(c.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(e){}}(a),s&&f(s),{load:f,optimize:g,resolvePrefixes:function(a){if(!(m.get("caniuse.enabled")&&p&&a in p))return null;var b=[],c=p[a],d=l();return k().forEach(function(a){for(var e,f=q[a].versions.slice(d),g=0;g<f.length;g++)if(e=f[g],e&&~c[a][e].indexOf("x")){b.push(q[a].prefix);break}}),n.unique(b).sort(function(a,b){return b.length-a.length})}}})},{"../utils/common":"utils/common.js","./preferences":"assets/preferences.js"}],"assets/elements.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return{data:a}}var e={},f=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;return c=c||{},c.exports={add:function(a,b){var c=this;e[a]=function(){var d=b.apply(c,arguments);return d&&(d.type=a),d}},get:function(a){return e[a]},create:function(a){var b=[].slice.call(arguments,1),c=this.get(a);return c?c.apply(this,b):null},is:function(a,b){return this.type(a)===b},type:function(a){return a&&a.type}},c.exports.add("element",function(a,b,c){var d={name:a,is_empty:!!c};if(b)if(d.attributes=[],Array.isArray(b))d.attributes=b;else if("string"==typeof b)for(var e;e=f.exec(b);)d.attributes.push({name:e[2],value:e[4],isDefault:"@"==e[1],isImplied:"!"==e[1]});else d.attributes=Object.keys(b).map(function(a){return{name:a,value:b[a]}});return d}),c.exports.add("snippet",d),c.exports.add("reference",d),c.exports.add("empty",function(){return{}}),c.exports})},{}],"assets/handlerList.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(){this._list=[]}var e=a("../utils/common");return d.prototype={add:function(a,b){var c=this._list.length;b&&"order"in b&&(c=1e4*b.order),this._list.push(e.extend({},b,{order:c,fn:a}))},remove:function(a){var b=e.find(this._list,function(b){return b.fn===a});b&&this._list.splice(this._list.indexOf(b),1)},list:function(){return this._list.sort(function(a,b){return b.order-a.order})},listFn:function(){return this.list().map(function(a){return a.fn})},exec:function(a,b){b=b||[];var c=null;return e.find(this.list(),function(d){return c=d.fn.apply(d,b),c!==a?!0:void 0}),c}},{create:function(){return new d}}})},{"../utils/common":"utils/common.js"}],"assets/htmlMatcher.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){return{name:b[1],selfClose:!!b[3],range:j(a,b[0]),type:"open"}}function e(a,b){return{name:b[1],range:j(a,b[0]),type:"close"}}function f(a,b){return{range:j(a,"number"==typeof b?b-a:b[0]),type:"comment"}}function g(a){var b,c={};return{open:function(a){var b=this.matches(a);return b&&"open"==b.type?b:null},close:function(a){var b=this.matches(a);return b&&"close"==b.type?b:null},matches:function(f){var g="p"+f;if(!(g in c)&&(c[g]=!1,"<"==a.charAt(f))){var h=a.slice(f);(b=h.match(k))?c[g]=d(f,b):(b=h.match(l))&&(c[g]=e(f,b))}return c[g]},text:function(){return a},clean:function(){c=a=b=null}}}function h(a,b,c){return a.substring(b,b+c.length)==c}function i(a,b){for(var c=[],d=null,e=b.text(),f=a.range.end,g=e.length;g>f;f++){if(h(e,f,"<!--"))for(var i=f;g>i;i++)if(h(e,i,"-->")){f=i+3;break}if(d=b.matches(f)){if("open"!=d.type||d.selfClose){if("close"==d.type){if(!c.length)return d.name==a.name?d:null;if(c[c.length-1]==d.name)c.pop();else{for(var j=!1;c.length&&!j;){var k=c.pop();k==d.name&&(j=!0)}if(!c.length&&!j)return d.name==a.name?d:null}}}else c.push(d.name);f=d.range.end-1}}}var j=a("./range"),k=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,l=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(a,b){for(var c,d,e=g(a),k=null,l=null,m=b;m>=0;m--)if(k=e.open(m)){if(k.selfClose){if(k.range.cmp(b,"lt","gt"))break;continue}if(l=i(k,e)){var n=j.create2(k.range.start,l.range.end);if(n.contains(b))break}else if(k.range.contains(b))break;k=null}else if(h(a,m,"-->")){for(c=m-1;c>=0&&!h(a,c,"-->");c--)if(h(a,c,"<!--")){m=c;break}}else if(h(a,m,"<!--")){for(c=m+4,d=a.length;d>c;c++)if(h(a,c,"-->")){c+=3;break}k=f(m,c);break}if(e.clean(),k){var o=null,p=null;if(l?(o=j.create2(k.range.start,l.range.end),p=j.create2(k.range.end,l.range.start)):o=p=j.create2(k.range.start,k.range.end),"comment"==k.type){var q=o.substring(a);p.start+=q.length-q.replace(/^<\!--\s*/,"").length,p.end-=q.length-q.replace(/\s*-->$/,"").length}return{open:k,close:l,type:"comment"==k.type?"comment":"tag",innerRange:p,innerContent:function(){return this.innerRange.substring(a)},outerRange:o,outerContent:function(){return this.outerRange.substring(a)},range:p.length()&&p.cmp(b,"lte","gte")?p:o,content:function(){return this.range.substring(a)},source:a}}},tag:function(a,b){var c=this.find(a,b);return c&&"tag"==c.type?c:void 0}}})},{"./range":"assets/range.js"}],"assets/logger.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],"assets/preferences.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return"string"==typeof a?(a=a.toLowerCase(),"yes"==a||"true"==a||"1"==a):!!a}function e(a){return"object"==typeof a&&!Array.isArray(a)&&"value"in a&&Object.keys(a).length<3}var f=a("../utils/common"),g={},h={},i=null,j=null;return{define:function(a,b,c){var d=a;"string"==typeof a&&(d={},d[a]={value:b,description:c}),Object.keys(d).forEach(function(a){var b=d[a];h[a]=e(b)?b:{value:b}})},set:function(a,b){var c=a;"string"==typeof a&&(c={},c[a]=b),Object.keys(c).forEach(function(a){var b=c[a];if(!(a in h))throw new Error('Property "'+a+'" is not defined. You should define it first with `define` method of current module');if(b!==h[a].value){switch(typeof h[a].value){case"boolean":b=d(b);break;case"number":b=parseInt(b+"",10)||0;break;default:null!==b&&(b+="")}g[a]=b}else a in g&&delete g[a]})},get:function(a){return a in g?g[a]:a in h?h[a].value:void 0},getArray:function(a){var b=this.get(a);return"undefined"==typeof b||null===b||""===b?null:(b=b.split(",").map(f.trim),b.length?b:null)},getDict:function(a){var b={};return this.getArray(a).forEach(function(a){var c=a.split(":");b[c[0]]=c[1]}),b},description:function(a){return a in h?h[a].description:void 0},remove:function(a){Array.isArray(a)||(a=[a]),a.forEach(function(a){a in g&&delete g[a],a in h&&delete h[a]})},list:function(){return Object.keys(h).sort().map(function(a){return{name:a,value:this.get(a),type:typeof h[a].value,description:h[a].description}},this)},load:function(a){Object.keys(a).forEach(function(b){this.set(b,a[b])},this)},exportModified:function(){return f.extend({},g)},reset:function(){g={}},_startTest:function(){i=h,j=g,h={},g={}},_stopTest:function(){h=i,g=j}}})},{"../utils/common":"utils/common.js"}],"assets/profile.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){h.extend(this,l,a)}function e(a,b){switch(String(b||"").toLowerCase()){case"lower":return a.toLowerCase();case"upper":return a.toUpperCase()}return a}function f(a,b){return k[a.toLowerCase()]=new d(b)}function g(){f("xhtml"),f("html",{self_closing_tag:!1,compact_bool:!0}),f("xml",{self_closing_tag:!0,tag_nl:!0}),f("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),f("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),f("css",{tag_nl:!0}),f("css_line",{tag_nl:!1})}var h=a("../utils/common"),i=a("./resources"),j=a("./preferences");j.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),j.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you don’t have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var k={},l={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};return d.prototype={tagName:function(a){return e(a,this.tag_case)},attributeName:function(a){return e(a,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?h.getCaretPlaceholder():""},isBoolean:function(a,b){if(a==b)return!0;var c=j.get("profile.booleanAttributes");return!b&&c?(c=new RegExp(c,"i"),c.test(a)):!1},allowCompactBoolean:function(){return this.compact_bool&&j.get("profile.allowCompactBoolean")}},g(),{create:function(a,b){return 2==arguments.length?f(a,b):new d(h.defaults(a||{},l))},get:function(a,b){if(!a&&b){var c=i.findItem(b,"profile");c&&(a=c)}return a?a instanceof d?a:"string"==typeof a&&a.toLowerCase()in k?k[a.toLowerCase()]:this.create(a):k.plain},remove:function(a){a=(a||"").toLowerCase(),a in k&&delete k[a]},reset:function(){k={},g()},stringCase:e}})},{"../utils/common":"utils/common.js","./preferences":"assets/preferences.js","./resources":"assets/resources.js"}],"assets/range.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){switch(c){case"eq":case"==":return a===b;case"lt":case"<":return b>a;case"lte":case"<=":return b>=a;case"gt":case">":return a>b;case"gte":case">=":return a>=b}}function e(a,b){"object"==typeof a&&"start"in a?(this.start=Math.min(a.start,a.end),this.end=Math.max(a.start,a.end)):Array.isArray(a)?(this.start=a[0],this.end=a[1]):(b="string"==typeof b?b.length:+b,this.start=a,this.end=a+b)}return e.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(a){return this.cmp(a,"eq","eq")},shift:function(a){return this.start+=a,this.end+=a,this},overlap:function(a){return a.start<=this.end&&a.end>=this.start},intersection:function(a){if(this.overlap(a)){var b=Math.max(a.start,this.start),c=Math.min(a.end,this.end);return new e(b,c-b)}return null},union:function(a){if(this.overlap(a)){var b=Math.min(a.start,this.start),c=Math.max(a.end,this.end);return new e(b,c-b)}return null},inside:function(a){return this.cmp(a,"lte","gt")},contains:function(a){return this.cmp(a,"lt","gt")},include:function(a){return this.cmp(a,"lte","gte")},cmp:function(a,b,c){var f,g;return a instanceof e?(f=a.start,g=a.end):f=g=a,d(this.start,f,b||"<=")&&d(this.end,g,c||">")},substring:function(a){return this.length()>0?a.substring(this.start,this.end):""},clone:function(){return new e(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},c.exports=function(a,b){return"undefined"==typeof a||null===a?null:a instanceof e?a:("object"==typeof a&&"start"in a&&"end"in a&&(b=a.end-a.start,a=a.start),new e(a,b))},c.exports.create=c.exports,c.exports.isRange=function(a){return a instanceof e},c.exports.create2=function(a,b){return"number"==typeof a&&"number"==typeof b&&(b-=a),this.create(a,b)},c.exports.sort=function(a,b){return a=a.sort(function(a,b){return a.start===b.start?b.end-a.end:a.start-b.start}),b&&a.reverse(),a},c.exports})},{}],"assets/resources.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function e(a,b){a&&Object.keys(a).forEach(function(c){b(a[c],c)})}function f(a){return l.replaceUnescapedSymbol(a,"|",l.getCaretPlaceholder())}function g(a,b,c){return b=f(b),"snippets"==c?m.create("snippet",b):"abbreviations"==c?h(a,b):void 0}function h(a,b){a=l.trim(a);var c;return(c=s.exec(b))?m.create("element",c[1],c[2],"/"==c[4]):m.create("reference",b)}function i(a){return a.replace(/:$/,"").replace(/:/g,"-")}function j(a){var b={};return e(a,function(a,c){for(var d=c.split("|"),e=d.length-1;e>=0;e--)b[d[e]]=a}),b}var k=a("./handlerList"),l=a("../utils/common"),m=a("./elements"),n=(a("../assets/logger"),a("../vendor/stringScore")),o=a("../resolver/css"),p="system",q="user",r={},s=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,t={},u={},v=k.create();return l.extend(b,{setVocabulary:function(a,b){r={};var c={};e(a,function(a,b){var d={};e(a,function(a,b){("abbreviations"==b||"snippets"==b)&&(a=j(a)),d[b]=a}),c[b]=d}),b==p?t=c:u=c},getVocabulary:function(a){return a==p?t:u},getMatchedResource:function(a,b){return v.exec(null,l.toArray(arguments))||this.findSnippet(b,a.name())},getVariable:function(a){return(this.getSection("variables")||{})[a]},setVariable:function(a,b){var c=this.getVocabulary("user")||{};"variables"in c||(c.variables={}),c.variables[a]=b,this.setVocabulary(c,"user")},hasSyntax:function(a){return a in this.getVocabulary(q)||a in this.getVocabulary(p)},addResolver:function(a,b){v.add(a,b)},removeResolver:function(a){v.remove(a)},getSection:function(a){if(!a)return null;a in r||(r[a]=l.deepMerge({},t[a],u[a]));for(var b,c=r[a],d=l.toArray(arguments,1);c&&(b=d.shift());){if(!(b in c))return null;c=c[b]}return c},findItem:function(a,b){for(var c=this.getSection(a);c;){if(b in c)return c[b];c=this.getSection(c["extends"])}},findSnippet:function(a,b,c){if(!a||!b)return null;c=c||[];var d=[b];~b.indexOf("-")&&d.push(b.replace(/\-/g,":"));var e=this.getSection(a),f=null;return["snippets","abbreviations"].some(function(b){var c=this.getSection(a,b);return c?d.some(function(a){return c[a]?f=g(a,c[a],b):void 0}):void 0},this),c.push(a),f||!e["extends"]||~c.indexOf(e["extends"])?f:this.findSnippet(e["extends"],b,c)},fuzzyFindSnippet:function(a,b,c){var d=this.fuzzyFindMatches(a,b,c)[0];return d?d.value.parsedValue:void 0},fuzzyFindMatches:function(a,b,c){c=c||.3,b=i(b);var d=this.getAllSnippets(a);return Object.keys(d).map(function(a){var c=d[a];return{key:a,score:n.score(c.nk,b,.1),value:c}}).filter(function(a){return a.score>=c}).sort(function(a,b){return a.score-b.score}).reverse()},getAllSnippets:function(a){var b="all-"+a;if(!r[b]){var c=[],d=a,f=[];do{var h=this.getSection(d);if(!h)break;["snippets","abbreviations"].forEach(function(a){var b={};e(h[a]||null,function(c,d){b[d]={nk:i(d),value:c,parsedValue:g(d,c,a),type:a}}),c.push(b)}),f.push(d),d=h["extends"]}while(d&&!~f.indexOf(d));r[b]=l.extend.apply(l,c.reverse())}return r[b]},getNewline:function(){var a=this.getVariable("newline");return"string"==typeof a?a:"\n"},setNewline:function(a){this.setVariable("newline",a),this.setVariable("nl",a)}}),b.addResolver(o.resolve.bind(o)),function(a){if("undefined"==typeof d||!d.amd)try{var c=a("fs"),e=a("path"),f=c.readFileSync(e.join(__dirname,"../snippets.json"),{encoding:"utf8"});b.setVocabulary(JSON.parse(f),p)}catch(g){}}(a),b})},{"../assets/logger":"assets/logger.js","../resolver/css":"resolver/css.js","../utils/common":"utils/common.js","../vendor/stringScore":"vendor/stringScore.js","./elements":"assets/elements.js","./handlerList":"assets/handlerList.js"}],"assets/stringStream.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){this.pos=this.start=0,this.string=a,this._length=a.length}return d.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this._length?this.string.charAt(this.pos++):void 0},eat:function(a){var b,c=this.string.charAt(this.pos);return b="string"==typeof a?c==a:c&&(a.test?a.test(c):a(c)),b?(++this.pos,c):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this._length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},skipToPair:function(a,b,c){for(var d,e=0,f=this.pos,g=this._length;g>f;)if(d=this.string.charAt(f++),d==a)e++;else if(d==b){if(e--,1>e)return this.pos=f,!0}else!c||'"'!=d&&"'"!=d||this.skipString(d);return!1},skipQuoted:function(a){var b=this.string.charAt(a?this.pos:this.pos-1);return'"'===b||"'"===b?(a&&this.pos++,this.skipString(b)):void 0},skipString:function(a){for(var b,c=this.pos,d=this._length;d>c;)if(b=this.string.charAt(c++),"\\"!=b&&b==a)return this.pos=c,!0;return!1},backUp:function(a){this.pos-=a},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&b!==!1&&(this.pos+=d[0].length),d}var e=c?function(a){return a.toLowerCase()}:function(a){return a};return e(this.string).indexOf(e(a),this.pos)==this.pos?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(a){return this.string.slice(this.start,this.pos-(a?1:0))}},c.exports=function(a){return new d(a)},c.exports.create=c.exports,c.exports})},{}],"assets/tabStops.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../utils/common"),e=a("./stringStream"),f=a("./resources"),g=100,h=0,i={replaceCarets:!1,escape:function(a){return"\\"+a},tabstop:function(a){return a.token},variable:function(a){return a.token}};return{extract:function(a,b){var c={carets:""},e=[];b=d.extend({},i,b,{tabstop:function(a){var b=a.token,d="";return"cursor"==a.placeholder?e.push({start:a.start,end:a.start+b.length,group:"carets",value:""}):("placeholder"in a&&(c[a.group]=a.placeholder),a.group in c&&(d=c[a.group]),e.push({start:a.start,end:a.start+b.length,group:a.group,value:d})),b}}),b.replaceCarets&&(a=a.replace(new RegExp(d.escapeForRegexp(d.getCaretPlaceholder()),"g"),"${0:cursor}")),a=this.processText(a,b);var f="",g=0,h=e.map(function(b){f+=a.substring(g,b.start);var d=f.length,e=c[b.group]||"";return f+=e,g=b.end,{group:b.group,start:d,end:d+e.length}});return f+=a.substring(g),{text:f,tabstops:h.sort(function(a,b){return a.start-b.start})}},processText:function(a,b){b=d.extend({},i,b);for(var c,f,g,h="",j=e.create(a);c=j.next();)if("\\"!=c||j.eol()){if(g=c,"$"==c)if(j.start=j.pos-1,f=j.match(/^[0-9]+/))g=b.tabstop({start:h.length,group:j.current().substr(1),token:j.current()});else if(f=j.match(/^\{([a-z_\-][\w\-]*)\}/))g=b.variable({start:h.length,name:f[1],token:j.current()});else if(f=j.match(/^\{([0-9]+)(:.+?)?\}/,!1)){j.skipToPair("{","}");var k={start:h.length,group:f[1],token:j.current()},l=k.token.substring(k.group.length+2,k.token.length-1);l&&(k.placeholder=l.substr(1)),g=b.tabstop(k)}h+=g}else h+=b.escape(j.next());return h},upgrade:function(a,b){var c=0,d={tabstop:function(a){var d=parseInt(a.group,10);return d>c&&(c=d),a.placeholder?"${"+(d+b)+":"+a.placeholder+"}":"${"+(d+b)+"}"}};return["start","end","content"].forEach(function(b){a[b]=this.processText(a[b],d)},this),c},variablesResolver:function(a){var b={};return function(c,e){if("child"==e)return c;if("cursor"==e)return d.getCaretPlaceholder();var h=a.attribute(e);if("undefined"!=typeof h&&h!==c)return h;var i=f.getVariable(e);return i?i:(b[e]||(b[e]=g++),"${"+b[e]+":"+e+"}")}},replaceVariables:function(a,b){b=b||{};var c="function"==typeof b?b:function(a,c){return c in b?b[c]:null};return this.processText(a,{variable:function(a){var b=c(a.token,a.name,a);return null===b&&(b=f.getVariable(a.name)),(null===b||"undefined"==typeof b)&&(b=a.token),b}})},resetTabstopIndex:function(){h=0,g=100},abbrOutputProcessor:function(a,b,c){var d=0,e=this,f={tabstop:function(a){var b=parseInt(a.group,10);if(0===b)return"${0}";if(b>d&&(d=b),a.placeholder){var c=b+h,g=e.processText(a.placeholder,f);return"${"+c+":"+g+"}"}return"${"+(b+h)+"}"}};return a=this.processText(a,f),a=this.replaceVariables(a,this.variablesResolver(b)),h+=d+1,a}}})},{"../utils/common":"utils/common.js","./resources":"assets/resources.js","./stringStream":"assets/stringStream.js"}],"assets/tokenIterator.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){this.tokens=a,this._position=0,this.reset()}return d.prototype={next:function(){if(this.hasNext()){var a=this.tokens[++this._i];return this._position=a.start,a}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(a,b){for(var c,d="string"==typeof a?function(b){return b.type==a}:a;(c=this.next())&&(b&&b.call(this,c),!d.call(this,c)););}},{create:function(a){return new d(a)}}})},{}],"editTree/base.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){this.options=g.extend({offset:0},b),this.source=a,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function e(a,b,c){this.parent=a,this._name=b.value,this._value=c?c.value:"",this._positions={name:b.start,value:c?c.start:-1},this.initialize.apply(this,arguments)}var f=a("../assets/range"),g=a("../utils/common"),h=a("../vendor/klass");return d.extend=h.extend,d.prototype={type:"container",initialize:function(){},_pos:function(a,b){return a+(b?this.options.offset:0)},_updateSource:function(a,b,c){var d=f.create(b,"undefined"==typeof c?0:c-b),e=a.length-d.length(),h=function(a){Object.keys(a).forEach(function(b){a[b]>=d.end&&(a[b]+=e)})};h(this._positions);var i=function(a){a.forEach(function(a){h(a._positions),"container"==a.type&&i(a.list())})};i(this.list()),this.source=g.replaceSubstring(this.source,a,d)},add:function(a,b,c){var d=new e(a,b);return this._children.push(d),d},get:function(a){return"number"==typeof a?this.list()[a]:"string"==typeof a?g.find(this.list(),function(b){return b.name()===a}):a},getAll:function(a){Array.isArray(a)||(a=[a]);var b=[],c=[];return a.forEach(function(a){"string"==typeof a?b.push(a):"number"==typeof a&&c.push(a)}),this.list().filter(function(a,d){
return~c.indexOf(d)||~b.indexOf(a.name())})},list:function(){return this._children},remove:function(a){var b=this.get(a);if(b){this._updateSource("",b.fullRange());var c=this._children.indexOf(b);~c&&this._children.splice(c,1)}},indexOf:function(a){return this.list().indexOf(this.get(a))},value:function(a,b,c){var d=this.get(a);return d?d.value(b):"undefined"!=typeof b?this.add(a,b,c):void 0},values:function(a){return this.getAll(a).map(function(a){return a.value()})},name:function(a){return"undefined"!=typeof a&&this._name!==(a=String(a))&&(this._updateSource(a,this._positions.name,this._positions.name+this._name.length),this._name=a),this._name},nameRange:function(a){return f.create(this._positions.name+(a?this.options.offset:0),this.name())},range:function(a){return f.create(a?this.options.offset:0,this.valueOf())},itemFromPosition:function(a,b){return g.find(this.list(),function(c){return c.range(b).inside(a)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},e.extend=h.extend,e.prototype={type:"element",initialize:function(){},_pos:function(a,b){return a+(b?this.parent.options.offset:0)},value:function(a){return"undefined"!=typeof a&&this._value!==(a=String(a))&&(this.parent._updateSource(a,this.valueRange()),this._value=a),this._value},name:function(a){return"undefined"!=typeof a&&this._name!==(a=String(a))&&(this.parent._updateSource(a,this.nameRange()),this._name=a),this._name},namePosition:function(a){return this._pos(this._positions.name,a)},valuePosition:function(a){return this._pos(this._positions.value,a)},range:function(a){return f.create(this.namePosition(a),this.valueOf())},fullRange:function(a){return this.range(a)},nameRange:function(a){return f.create(this.namePosition(a),this.name())},valueRange:function(a){return f.create(this.valuePosition(a),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:d,EditElement:e,createToken:function(a,b,c){var d={start:a||0,value:b||"",type:c};return d.end=d.start+d.value.length,d}}})},{"../assets/range":"assets/range.js","../utils/common":"utils/common.js","../vendor/klass":"vendor/klass.js"}],"editTree/css.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){c=c||s|t,b=a.substring(b);var d;return c&s&&(d=b.match(q))&&(a.start+=d[0].length),c&t&&(d=b.match(r))&&(a.end-=d[0].length),a.end<a.start&&(a.end=a.start),a}function e(a,b){var c,e,f,g=a.current();if(!g)return null;for(var h={white:1,line:1,comment:1};(g=a.current())&&g.type in h;)a.next();if(!a.hasNext())return null;g=a.current(),c=m(g.start,g.value);for(var i="@"==g.value.charAt(0);g=a.next();)if(c.end=g.end,":"==g.type||"white"==g.type){if(c.end=g.start,a.next(),":"==g.type||i)break}else if(";"==g.type||"line"==g.type){c.end=g.start,e=m(g.start,0),a.next();break}if(g=a.current(),!e&&g){"line"==g.type&&(j=g),e=m(g.start,g.value);for(var j;g=a.next();)if(e.end=g.end,"line"==g.type)j=g;else{if("}"==g.type||";"==g.type){e.end=g.start,";"==g.type&&(f=m(g.start,g.value)),a.next();break}if(":"==g.type&&j){e.end=j.start,a._i=a.tokens.indexOf(j);break}}}return e||(e=m(c.end,0)),{name:d(c,b),value:d(e,b,s|(f?t:0)),end:f||m(e.end,0)}}function f(a){var b,c=n.create(a),d=[],e=/[\s\u00a0,;]/,f=function(){c.next(),d.push(m(c.start,c.current())),c.start=c.pos};for(c.eatSpace(),c.start=c.pos;b=c.next();)if('"'==b||"'"==b){if(c.next(),!c.skipTo(b))break;f()}else if("("==b){if(c.backUp(1),!c.skipToPair("(",")"))break;c.backUp(1),f()}else e.test(b)&&(d.push(m(c.start,c.current().length-1)),c.eatWhile(e),c.start=c.pos);return f(),i.unique(d.filter(function(a){return!!a.length()}))}function g(a,b,c){var d=h(b,c);d.forEach(function(b){a._children.push(new v(a,j.createToken(b.name.start,b.nameText),j.createToken(b.value.start,b.valueText),j.createToken(b.end.start,b.endText)))})}function h(a,b){b=b||0,a=a.replace(r,"");var c=[];if(!a)return c;for(var d,f=k.parse(a),g=o.create(f);d=e(g,a);)c.push({nameText:d.name.substring(a),name:d.name.shift(b),valueText:d.value.substring(a),value:d.value.shift(b),endText:d.end.substring(a),end:d.end.shift(b)});return c}var i=a("../utils/common"),j=a("./base"),k=a("../parser/css"),l=a("../utils/cssSections"),m=a("../assets/range"),n=a("../assets/stringStream"),o=a("../assets/tokenIterator"),p={styleBefore:"\n	",styleSeparator:": ",offset:0},q=/^\s+/,r=/\s+$/,s=1,t=2,u=j.EditContainer.extend({initialize:function(a,b){i.extend(this.options,p,b),Array.isArray(a)&&(a=k.toSource(a));var c=l.findAllRules(a),d=c.shift(),e=[];c.forEach(function(a){var b=!i.find(e,function(b){return b.contains(a)});b&&e.push(a)});var f=m.create2(d.start,d._selectorEnd);this._name=f.substring(a),this._positions.name=f.start,this._positions.contentStart=d._contentStart+1;var h=d._contentStart+1,j=(d.end-1,this);e.forEach(function(b){g(j,a.substring(h,b.start),h);i.extend({},j.options,{offset:b.start+j.options.offset});h=b.end}),g(this,a.substring(h,d.end-1),h),this._saveStyle()},_saveStyle:function(){var a=this._positions.contentStart,b=this.source;this.list().forEach(function(c){if("container"!==c.type){c.styleBefore=b.substring(a,c.namePosition());var d=i.splitByLines(c.styleBefore);d.length>1&&(c.styleBefore="\n"+d[d.length-1]),c.styleSeparator=b.substring(c.nameRange().end,c.valuePosition());var e=c.styleBefore.split("*/");c.styleBefore=e[e.length-1],c.styleSeparator=c.styleSeparator.replace(/\/\*.*?\*\//g,""),a=c.range().end}})},namePosition:function(a){return this._pos(this._positions.name,a)},valuePosition:function(a){return this._pos(this._positions.contentStart,a)},valueRange:function(a){return m.create2(this.valuePosition(a),this._pos(this.valueOf().length,a)-1)},add:function(a,b,c){var d=this.list(),e=this._positions.contentStart,f=i.pick(this.options,"styleBefore","styleSeparator");"undefined"==typeof c&&(c=d.length);var g=d[c];g?e=g.fullRange().start:(g=d[c-1])&&(g.end(";"),e=g.range().end),g&&(f=i.pick(g,"styleBefore","styleSeparator"));var h=j.createToken(e+f.styleBefore.length,a),k=j.createToken(h.end+f.styleSeparator.length,b),l=new v(this,h,k,j.createToken(k.end,";"));return i.extend(l,f),this._updateSource(l.styleBefore+l.toString(),e),this._children.splice(c,0,l),l}}),v=j.EditElement.extend({initialize:function(a,b,c,d){this.styleBefore=a.options.styleBefore,this.styleSeparator=a.options.styleSeparator,this._end=d.value,this._positions.end=d.start},valueParts:function(a){var b=f(this.value());if(a){var c=this.valuePosition(!0);b.forEach(function(a){a.shift(c)})}return b},value:function(a){var b="undefined"!=typeof a,c=this.parent.list();if(b&&this.isIncomplete()){var d=this,e=i.find(c,function(a){return a!==d&&!a.isIncomplete()});this.styleSeparator=e?e.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,m(this.valueRange().start,0))}var f=this.constructor.__super__.value.apply(this,arguments);if(b){var g=c.indexOf(this);g===c.length-1||this.end()||this.end(";")}return f},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(a){return"undefined"!=typeof a&&this._end!==a&&(this.parent._updateSource(a,this._positions.end,this._positions.end+this._end.length),this._end=a),this._end},fullRange:function(a){var b=this.range(a);return b.start-=this.styleBefore.length,b},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(a,b){return new u(a,b)},parseFromPosition:function(a,b,c){var d=l.locateRule(a,b,c);return d&&d.inside(b)?this.parse(d.substring(a),{offset:d.start}):null},propertyFromPosition:function(a,b){var c=null,d="string"==typeof a?this.parseFromPosition(a,b,!0):a;return d&&(c=d.itemFromPosition(b,!0),c||(c=i.find(d.list(),function(a){return a.range(!0).end==b}))),c},baseName:function(a){return a.replace(/^\s*\-\w+\-/,"")},findParts:f,extractPropertiesFromSource:h}})},{"../assets/range":"assets/range.js","../assets/stringStream":"assets/stringStream.js","../assets/tokenIterator":"assets/tokenIterator.js","../parser/css":"parser/css.js","../utils/common":"utils/common.js","../utils/cssSections":"utils/cssSections.js","./base":"editTree/base.js"}],"editTree/xml.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("./base"),e=a("../parser/xml"),f=a("../assets/range"),g=a("../utils/common"),h={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},i=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,j=d.EditContainer.extend({initialize:function(a,b){g.defaults(this.options,h),this._positions.name=1;var c=null,d=e.parse(a);d.forEach(function(b){switch(b.value=f.create(b).substring(a),b.type){case"tag":/^<[^\/]+/.test(b.value)&&(this._name=b.value.substring(1));break;case"attribute":c&&this._children.push(new k(this,c)),c=b;break;case"string":this._children.push(new k(this,c,b)),c=null}},this),c&&this._children.push(new k(this,c)),this._saveStyle()},_saveStyle:function(){var a=this.nameRange().end,b=this.source;this.list().forEach(function(c){c.styleBefore=b.substring(a,c.namePosition()),-1!==c.valuePosition()&&(c.styleSeparator=b.substring(c.namePosition()+c.name().length,c.valuePosition()-c.styleQuote.length)),a=c.range().end})},add:function(a,b,c){var e=this.list(),f=this.nameRange().end,h=g.pick(this.options,"styleBefore","styleSeparator","styleQuote");"undefined"==typeof c&&(c=e.length);var i=e[c];i?f=i.fullRange().start:(i=e[c-1])&&(f=i.range().end),i&&(h=g.pick(i,"styleBefore","styleSeparator","styleQuote")),b=h.styleQuote+b+h.styleQuote;var j=new k(this,d.createToken(f+h.styleBefore.length,a),d.createToken(f+h.styleBefore.length+a.length+h.styleSeparator.length,b));return g.extend(j,h),this._updateSource(j.styleBefore+j.toString(),f),this._children.splice(c,0,j),j},addClass:function(a){var b=this.get("class");if(a=g.trim(a),!b)return this.add("class",a);var c=b.value(),d=" "+c.replace(/\n/g," ")+" ";~d.indexOf(" "+a+" ")||b.value(c+" "+a)},removeClass:function(a){var b=this.get("class");if(a=g.trim(a),b){var c=new RegExp("(^|\\s+)"+g.escapeForRegexp(a)),d=b.value().replace(c,"");g.trim(d)?b.value(d):this.remove("class")}}}),k=d.EditElement.extend({initialize:function(a,b,c){this.styleBefore=a.options.styleBefore,this.styleSeparator=a.options.styleSeparator;var d="",e=a.options.styleQuote;c&&(d=c.value,e=d.charAt(0),'"'==e||"'"==e?d=d.substring(1):e="",e&&d.charAt(d.length-1)==e&&(d=d.substring(0,d.length-1))),this.styleQuote=e,this._value=d,this._positions.value=c?c.start+e.length:-1},fullRange:function(a){var b=this.range(a);return b.start-=this.styleBefore.length,b},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(a,b){return new j(a,b)},parseFromPosition:function(a,b,c){var d=this.extractTag(a,b,c);return d&&d.inside(b)?this.parse(d.substring(a),{offset:d.start}):null},extractTag:function(a,b,c){var d,e=a.length,g=Math.min(2e3,e),h=null,j=function(b){var c;return"<"==a.charAt(b)&&(c=a.substr(b,g).match(i))?f.create(b,c[0]):void 0};for(d=b;d>=0&&!(h=j(d));d--);if(h&&(h.inside(b)||c))return h;if(!h&&c)return null;for(d=b;e>d;d++)if(h=j(d))return h}}})},{"../assets/range":"assets/range.js","../parser/xml":"parser/xml.js","../utils/common":"utils/common.js","./base":"editTree/base.js"}],"filter/bem.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(){return{element:k.get("bem.elementSeparator"),modifier:k.get("bem.modifierSeparator")}}function e(a){if(l.isSnippet(a))return a;a.__bem={block:"",element:"",modifier:""};var b=f(a.attribute("class")).split(" "),c=/^[a-z]\-/i;return a.__bem.block=m.find(b,function(a){return c.test(a)}),a.__bem.block||(c=/^[a-z]/i,a.__bem.block=m.find(b,function(a){return c.test(a)})||""),b=b.map(function(b){return g(b,a)}),b=m.unique(m.flatten(b)).join(" "),b&&a.attribute("class",b),a}function f(a){a=(" "+(a||"")+" ").replace(/\s+/g," ");var b=k.get("bem.shortElementPrefix");if(b){var c=new RegExp("\\s("+m.escapeForRegexp(b)+"+)","g");a=a.replace(c,function(a,b){return" "+m.repeatString(d().element,b.length)})}return m.trim(a)}function g(a,b){a=h(a,b,"element"),a=h(a,b,"modifier");var c="",e="",f="",g=d();if(~a.indexOf(g.element)){var i=a.split(g.element);c=i.shift();var j=i.pop().split(g.modifier);i.push(j.shift()),e=i.join(g.element),f=j.join(g.modifier)}else if(~a.indexOf(g.modifier)){var k=a.split(g.modifier);c=k.shift(),f=k.join(g.modifier)}if(c||e||f){c||(c=b.__bem.block);var l=c,m=[];return e?(l+=g.element+e,m.push(l)):m.push(l),f&&m.push(l+g.modifier+f),b.__bem.block=c,b.__bem.element=e,b.__bem.modifier=f,m}return a}function h(a,b,c){var e=d(),f=new RegExp("^("+e[c]+")+","g");if(f.test(a)){for(var g=0,h=a.replace(f,function(a){return g=a.length/e[c].length,""}),i=b;i.parent&&g--;)i=i.parent;if(i&&i.__bem||(i=b),i&&i.__bem){var j=i.__bem.block;return"modifier"==c&&i.__bem.element&&(j+=e.element+i.__bem.element),j+e[c]+h}}return a}function i(a,b){return a.name&&e(a,b),a.children.forEach(function(a){i(a,b),!l.isSnippet(a)&&a.start&&(n=!0)}),a}var j=a("./html"),k=a("../assets/preferences"),l=a("../utils/abbreviation"),m=a("../utils/common");k.define("bem.elementSeparator","__","Class name’s element separator."),k.define("bem.modifierSeparator","_","Class name’s modifier separator."),k.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var n=!1;return function(a,b){return n=!1,a=i(a,b),n&&(a=j(a,b)),a}})},{"../assets/preferences":"assets/preferences.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./html":"filter/html.js"}],"filter/comment.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){var d=f.get("filter.commentTrigger");if("*"!=d){var e=g.find(d.split(","),function(b){return!!a.attribute(g.trim(b))});if(!e)return}var h={node:a,name:a.name(),padding:a.parent?a.parent.padding:"",attr:function(b,c,d){var e=a.attribute(b);return e?(c||"")+e+(d||""):""}},i=b?b(h):"",j=c?c(h):"";a.start=a.start.replace(/</,i+"<"),a.end=a.end.replace(/>/,">"+j)}function e(a,b,c){return a.children.forEach(function(a){i.isBlock(a)&&d(a,b,c),e(a,b,c)}),a}var f=a("../assets/preferences"),g=a("../utils/common"),h=a("../utils/template"),i=a("../utils/abbreviation");a("./main");return f.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),f.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),f.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),function(a){var b=h(f.get("filter.commentBefore")),c=h(f.get("filter.commentAfter"));return e(a,b,c)}})},{"../assets/preferences":"assets/preferences.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","../utils/template":"utils/template.js","./main":"filter/main.js"}],"filter/css.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a.parent&&!a.parent.parent&&!a.index()}return function e(a,b,c){return c=c||0,a.children.forEach(function(a){d(a)||b.tag_nl===!1||(a.start="\n"+a.start),e(a,b,c+1)}),a}})},{}],"filter/escape.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a.replace(/([<>&])/g,function(a,b){return e[b]})}var e={"<":"&lt;",">":"&gt;","&":"&amp;"};return function f(a){return a.children.forEach(function(a){a.start=d(a.start),a.end=d(a.end),a.content=d(a.content),f(a)}),a}})},{}],"filter/format.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=p.getArray("format.noIndentTags")||[];return~b.indexOf(a.name())?"":"	"}function e(a){return a.parent&&o.hasBlockChildren(a.parent)}function f(a){return a.parent&&!a.parent.parent&&!a.index()}function g(a,b){return b.tag_nl===!0||o.isBlock(a)?!0:a.parent&&b.inline_break?i(a.parent,b):!1}function h(a,b){return a.children.length&&g(a.children[0],b)}function i(a,b){var c=0;return!!n.find(a.children,function(a){return a.isTextNode()||!o.isInline(a)?c=0:o.isInline(a)&&c++,c>=b.inline_break?!0:void 0})}function j(a){return!a.parent}function k(a,b){return a.start=a.end="",!f(a)&&b.tag_nl!==!1&&g(a,b)&&(j(a.parent)||!o.isInline(a.parent))&&(a.start="\n"+a.start),a}function l(a,b){var c=a.children.some(function(a){return o.isSnippet(a)?!1:!o.isInline(a)});return c?!0:i(a,b)}function m(a,b){a.start=a.end=q;var c=o.isUnary(a),i="\n",j=d(a);if(b.tag_nl!==!1){var k=b.tag_nl===!0&&(b.tag_nl_leaf||a.children.length);if(!k){var m=p.getArray("format.forceIndentationForTags")||[];k=~m.indexOf(a.name())}a.isTextNode()||(g(a,b)?(f(a)||o.isSnippet(a.parent)&&!a.index()||(a.start=i+a.start),(o.hasBlockChildren(a)||h(a,b)||k&&!c)&&(a.end=i+a.end),(o.hasTagsInContent(a)||k&&!a.children.length&&!c)&&(a.start+=i+j)):o.isInline(a)&&e(a)&&!f(a)?a.start=i+a.start:o.isInline(a)&&l(a,b)&&(a.end=i+a.end),a.padding=j)}return a}var n=a("../utils/common"),o=a("../utils/abbreviation"),p=a("../assets/preferences");a("../assets/resources");p.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),p.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var q="%s";return function r(a,b,c){return c=c||0,a.children.forEach(function(a){o.isSnippet(a)?k(a,b,c):m(a,b,c),r(a,b,c+1)}),a}})},{"../assets/preferences":"assets/preferences.js","../assets/resources":"assets/resources.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js"}],"filter/haml.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return i.trim(a).replace(/\s+/g,".")}function e(a){var b=[],c=null,d=/^data-/i;return a.forEach(function(a){d.test(a.name)?(c||(c=[],b.push({name:"data",value:c})),c.push(i.extend({},a,{name:a.name.replace(d,"")}))):b.push(a)}),b}function f(a,b){var c=b.attributeQuote();return"{"+a.map(function(a){var d=c+a.value+c;return Array.isArray(a.value)?d=f(a.value,b):a.isBoolean&&(d="true"),":"+a.name+" => "+d}).join(", ")+"}"}function g(a,b){var c="",g=[],h=(b.attributeQuote(),b.cursor());return a.attributeList().forEach(function(a){var e=b.attributeName(a.name);switch(e.toLowerCase()){case"id":c+="#"+(a.value||h);break;case"class":c+="."+d(a.value||h);break;default:g.push({name:e,value:a.value||h,isBoolean:b.isBoolean(a.name,a.value)})}}),g.length&&(c+=f(e(g),b)),c}function h(a,b){if(!a.parent)return a;var c=g(a,b),d=b.cursor(),e=j.isUnary(a),f=b.self_closing_tag&&e?"/":"",h="",k="%"+b.tagName(a.name());"%div"==k.toLowerCase()&&c&&-1==c.indexOf("{")&&(k=""),a.end="",h=k+c+f,a.content&&!/^\s/.test(a.content)&&(a.content=" "+a.content);var l="%s";return a.start=i.replaceSubstring(a.start,h,a.start.indexOf(l),l),a.children.length||e||(a.start+=d),a}var i=a("../utils/common"),j=a("../utils/abbreviation"),k=a("./format");return function l(a,b,c){return c=c||0,c||(a=k(a,"_format",b)),a.children.forEach(function(a){j.isSnippet(a)||h(a,b,c),l(a,b,c+1)}),a}})},{"../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./format":"filter/format.js"}],"filter/html.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){var c=b.attributeQuote(),d=b.cursor();return a.attributeList().map(function(a){var e=b.isBoolean(a.name,a.value),f=b.attributeName(a.name),g=e?f:a.value;return e&&b.allowCompactBoolean()?" "+f:" "+f+"="+c+(g||d)+c}).join("")}function e(a,b){if(!a.parent)return a;var c=d(a,b),e=b.cursor(),i=f.isUnary(a),j="",k="";if(!a.isTextNode()){var l=b.tagName(a.name());i?(j="<"+l+c+b.selfClosing()+">",a.end=""):(j="<"+l+c+">",k="</"+l+">")}var m="%s";return a.start=g.replaceSubstring(a.start,j,a.start.indexOf(m),m),a.end=g.replaceSubstring(a.end,k,a.end.indexOf(m),m),a.children.length||i||~a.content.indexOf(e)||h.extract(a.content).tabstops.length||(a.start+=e),a}var f=a("../utils/abbreviation"),g=a("../utils/common"),h=a("../assets/tabStops"),i=a("./format");return function j(a,b,c){return c=c||0,c||(a=i(a,b,c)),a.children.forEach(function(a){f.isSnippet(a)||e(a,b,c),j(a,b,c+1)}),a}})},{"../assets/tabStops":"assets/tabStops.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./format":"filter/format.js"}],"filter/jade.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return i.trim(a).replace(/\s+/g,".")}function e(a,b){var c=b.attributeQuote();return"("+a.map(function(a){return a.isBoolean?a.name:a.name+"="+c+a.value+c}).join(", ")+")"}function f(a,b){var c="",f=[],g=(b.attributeQuote(),b.cursor());return a.attributeList().forEach(function(a){var e=b.attributeName(a.name);switch(e.toLowerCase()){case"id":c+="#"+(a.value||g);break;case"class":c+="."+d(a.value||g);break;default:f.push({name:e,value:a.value||g,isBoolean:b.isBoolean(a.name,a.value)})}}),f.length&&(c+=e(f,b)),c}function g(a){if(a.content){var b=l.replaceVariables(a.content,function(a,b){return"nl"===b||"newline"===b?"\n":a});if(n.test(b)&&!o.test(b)){var c="| ";a.content="\n"+c+i.padString(b,c)}else p.test(b)||(a.content=" "+b)}}function h(a,b){if(!a.parent)return a;var c=f(a,b),d=b.cursor(),e=j.isUnary(a),h=b.tagName(a.name());"div"==h.toLowerCase()&&c&&"("!=c.charAt(0)&&(h=""),a.end="";var k=h+c;g(a);var l="%s";return a.start=i.replaceSubstring(a.start,k,a.start.indexOf(l),l),a.children.length||e||(a.start+=d),a}var i=a("../utils/common"),j=a("../utils/abbreviation"),k=a("./format"),l=a("../assets/tabStops"),m=a("../assets/profile"),n=/[\n\r]/,o=/^\s*\|/,p=/^\s/;return function q(a,b,c){return c=c||0,c||(a=k(a,m.get("xml"))),a.children.forEach(function(a){j.isSnippet(a)||h(a,b,c),q(a,b,c+1)}),a}})},{"../assets/profile":"assets/profile.js","../assets/tabStops":"assets/tabStops.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./format":"filter/format.js"}],"filter/jsx.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d={"class":"className","for":"htmlFor"};return function e(a){return a.children.forEach(function(a){a._attributes.forEach(function(a){a.name in d&&(a.name=d[a.name])}),e(a)}),a}})},{}],"filter/main.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a?"string"==typeof a?a.split(/[\|,]/g):a:[]}var e=a("../utils/common"),f=a("../assets/profile"),g=a("../assets/resources"),h={html:a("./html"),haml:a("./haml"),jade:a("./jade"),jsx:a("./jsx"),slim:a("./slim"),xsl:a("./xsl"),css:a("./css"),bem:a("./bem"),c:a("./comment"),e:a("./escape"),s:a("./singleLine"),t:a("./trim")},i="html";return{add:function(a,b){h[a]=b},apply:function(a,b,c){return c=f.get(c),d(b).forEach(function(b){var d=e.trim(b.toLowerCase());d&&d in h&&(a=h[d](a,c))}),a},composeList:function(a,b,c){b=f.get(b);var e=d(b.filters||g.findItem(a,"filters")||i);return b.extraFilters&&(e=e.concat(d(b.extraFilters))),c&&(e=e.concat(d(c))),e&&e.length||(e=d(i)),e},extract:function(a){var b="";return a=a.replace(/\|([\w\|\-]+)$/,function(a,c){return b=c,""}),[a,d(b)]}}})},{"../assets/profile":"assets/profile.js","../assets/resources":"assets/resources.js","../utils/common":"utils/common.js","./bem":"filter/bem.js","./comment":"filter/comment.js","./css":"filter/css.js","./escape":"filter/escape.js","./haml":"filter/haml.js","./html":"filter/html.js","./jade":"filter/jade.js","./jsx":"filter/jsx.js","./singleLine":"filter/singleLine.js","./slim":"filter/slim.js","./trim":"filter/trim.js","./xsl":"filter/xsl.js"}],"filter/singleLine.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../utils/abbreviation"),e=/^\s+/,f=/[\n\r]/g;return function g(a){return a.children.forEach(function(a){d.isSnippet(a)||(a.start=a.start.replace(e,""),a.end=a.end.replace(e,"")),a.start=a.start.replace(f,""),a.end=a.end.replace(f,""),a.content=a.content.replace(f,""),g(a)}),a}})},{"../utils/abbreviation":"utils/abbreviation.js"}],"filter/slim.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return j.trim(a).replace(/\s+/g,".")}function e(){var a=" ",b="";switch(n.get("slim.attributesWrapper")){case"round":a="(",b=")";break;case"square":a="[",b="]";break;case"curly":a="{",b="}"}return{start:a,end:b}}function f(a,b){var c=b.attributeQuote(),d=e();return d.start+a.map(function(a){var b=c+a.value+c;if(a.isBoolean){if(d.end)return a.name;b="true"}return a.name+"="+b}).join(" ")+d.end}function g(a,b){var c="",e=[],g=(b.attributeQuote(),b.cursor());return a.attributeList().forEach(function(a){var f=b.attributeName(a.name);switch(f.toLowerCase()){case"id":c+="#"+(a.value||g);break;case"class":c+="."+d(a.value||g);break;default:e.push({name:f,value:a.value||g,isBoolean:b.isBoolean(a.name,a.value)})}}),e.length&&(c+=f(e,b)),c}function h(a){if(a.content){var b=m.replaceVariables(a.content,function(a,b){return"nl"===b||"newline"===b?"\n":a});if(p.test(b)&&!q.test(b)){var c="  ";a.content="\n| "+j.padString(b,c)}else r.test(b)||(a.content=" "+b)}}function i(a,b){if(!a.parent)return a;var c=g(a,b),d=b.cursor(),e=k.isUnary(a),f=b.self_closing_tag&&e?"/":"",i=b.tagName(a.name());"div"==i.toLowerCase()&&c&&-1=="([{".indexOf(c.charAt(0))&&(i=""),a.end="";var l=i+c+f;h(a);var m="%s";return a.start=j.replaceSubstring(a.start,l,a.start.indexOf(m),m),a.children.length||e||(a.start+=d),a}var j=a("../utils/common"),k=a("../utils/abbreviation"),l=a("./format"),m=a("../assets/tabStops"),n=a("../assets/preferences"),o=a("../assets/profile"),p=/[\n\r]/,q=/^\s*\|/,r=/^\s/;return n.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code> – no wrapping;</li><li><code>round</code> — wrap attributes with round braces;</li><li><code>square</code> — wrap attributes with round braces;</li><li><code>curly</code> — wrap attributes with curly braces.</li></ul>"),function s(a,b,c){return c=c||0,c||(a=l(a,o.get("xml"))),a.children.forEach(function(a){k.isSnippet(a)||i(a,b,c),s(a,b,c+1)}),a}})},{"../assets/preferences":"assets/preferences.js","../assets/profile":"assets/profile.js","../assets/tabStops":"assets/tabStops.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./format":"filter/format.js"}],"filter/trim.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){return a.children.forEach(function(a){a.content&&(a.content=a.content.replace(b,"")),d(a,b)}),a}var e=a("../assets/preferences");return e.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),function(a){var b=new RegExp(e.get("filter.trimRegexp"));return d(a,b)}})},{"../assets/preferences":"assets/preferences.js"}],"filter/xsl.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){a.start=a.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}var e=a("../utils/abbreviation"),f={"xsl:variable":1,"xsl:with-param":1};return function g(a){return a.children.forEach(function(a){!e.isSnippet(a)&&(a.name()||"").toLowerCase()in f&&a.children.length&&d(a),g(a)}),a}})},{"../utils/abbreviation":"utils/abbreviation.js"}],"generator/lorem.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){return Math.round(Math.random()*(b-a)+a)}function e(a,b){for(var c=a.length,e=Math.min(c,b),f=[];f.length<e;){var g=d(0,c-1);~f.indexOf(g)||f.push(g)}return f.map(function(b){return a[b]})}function f(a){return"string"==typeof a?a.charAt(d(0,a.length-1)):a[d(0,a.length-1)]}function g(a,b){return a.length&&(a[0]=a[0].charAt(0).toUpperCase()+a[0].substring(1)),a.join(" ")+(b||f("?!..."))}function h(a){var b=a.length;if(!(2>b)){var c=0;c=b>3&&6>=b?d(0,1):b>6&&12>=b?d(0,2):d(1,4);for(var e,f,g=0;c>g;g++)e=d(0,a.length-2),f=a[e],","!==f.charAt(f.length-1)&&(a[e]+=",")}}function i(a,b,c){var f=k[a];if(!f)return"";var i,j=[],l=0;for(b=parseInt(b,10),c&&f.common&&(i=f.common.slice(0,b),i.length>5&&(i[4]+=","),l+=i.length,j.push(g(i,".")));b>l;)i=e(f.words,Math.min(d(2,30),b-l)),l+=i.length,h(i),j.push(g(i));return j.join(" ")}var j=a("../assets/preferences"),k={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]
},sp:{common:["mujer","uno","dolor","más","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","paño","suntuoso","molde","namibia","planeador","mirar","demás","oficinista","excepción","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cuórum","dignísimo","facilismo","letra","nihilista","expedición","alma","alveolar","aparte","león","animal","como","paria","belleza","modo","natividad","justo","ataque","séquito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunción","incidente","marejada","placenta","amanecer","fuga","previsor","presentación","lejos","necesariamente","sospechoso","adiposidad","quindío","pócima","voluble","débito","sintió","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mínima","mayores","repugnante","dulce","obcecado","montaña","enigma","total","deletéreo","décima","cábala","fotografía","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnífico","distinción","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepúsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abadía","analfabeto","remo","fugacidad","oficio","en","almácigo","vos","pan","represión","números","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrón","explícito","paloma","síndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apéndice","arquitecto","columna","yugo","computador","mula","a","propósito","fantasía","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}};return j.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>		and <code>ru</code> are supported, but users can add their own syntaxes		see <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),j.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. “Lorem ipsum dolor sit amet“) from generated text."),{addLang:function(a,b){"string"==typeof b?b={words:b.split(" ").filter(function(a){return!!a})}:Array.isArray(b)&&(b={words:b}),k[a]=b},preprocessor:function(a){var b,c=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,d=!j.get("lorem.omitCommonPart");a.findAll(function(a){if(a._name&&(b=a._name.match(c))){var e=b[2]||30,f=b[1]||j.get("lorem.defaultLang")||"en";a._name="",a.data("forceNameResolving",a.isRepeating()||a.attributeList().length),a.data("pasteOverwrites",!0),a.data("paste",function(a){return i(f,e,!a&&d)})}})}}})},{"../assets/preferences":"assets/preferences.js"}],"parser/abbreviation.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function e(a){return a.substring(1,a.length-1)}function f(a){a=s.trim(a);for(var b,c,g=new d,h=g.addChild(),i=u.create(a),j=1e3,k=function(a){h.addChild(a)},l=function(){i.start=i.pos,i.eatWhile(function(a){if("["==a||"{"==a){if(i.skipToPair(a,E[a]))return i.backUp(1),!0;throw new Error('Invalid abbreviation: mo matching "'+E[a]+'" found for character at '+i.pos)}if("+"==a){i.next();var b=i.eol()||~"+>^*".indexOf(i.peek());return i.backUp(1),b}return"("!=a&&o(a)})};!i.eol()&&--j>0;)switch(b=i.peek()){case"(":if(i.start=i.pos,!i.skipToPair("(",")"))throw new Error('Invalid abbreviation: mo matching ")" found for character at '+i.pos);var m=f(e(i.current()));(c=i.match(/^\*(\d+)?/,!0))&&h._setRepeat(c[1]),m.children.forEach(k);break;case">":h=h.addChild(),i.next();break;case"+":h=h.parent.addChild(),i.next();break;case"^":var n=h.parent||h;h=(n.parent||n).addChild(),i.next();break;default:l(),h.setAbbreviation(i.current()),i.start=i.pos}if(1>j)throw new Error("Endless loop detected");return g}function g(a){a=s.trim(a);for(var b,c=[],d=u(a);b=d.next();)if(" "==b){for(c.push(s.trim(d.current()));" "==d.peek();)d.next();d.start=d.pos}else if(('"'==b||"'"==b)&&!d.skipString(b))throw new Error("Invalid attribute set");return c.push(s.trim(d.current())),c}function h(a){var b=a.charAt(0);if('"'==b||"'"==b){a=a.substr(1);var c=a.charAt(a.length-1);c===b&&(a=a.substr(0,a.length-1))}return a}function i(a){var b=/^[\w\-:\$@]+\.?$/;return g(a).map(function(a){if(b.test(a)){var c="";return"."==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1),c=a),{name:a,value:c}}if(~a.indexOf("=")){var d=a.split("=");return{name:d.shift(),value:h(d.join("="))}}return{name:D,value:h(a)}})}function j(a){for(var b=[],c={"#":"id",".":"class"},d=null,f=u.create(a);!f.eol();)switch(f.peek()){case"#":case".":null===d&&(d=f.pos);var g=c[f.peek()];f.next(),f.start=f.pos,f.eatWhile(C),b.push({name:g,value:f.current()});break;case"[":if(null===d&&(d=f.pos),f.start=f.pos,!f.skipToPair("[","]"))throw new Error("Invalid attribute set definition");b=b.concat(i(e(f.current())));break;default:f.next()}return b.length?{element:a.substring(0,d),attributes:k(b)}:null}function k(a){a=a.map(function(a){return s.clone(a)});var b={};return a.filter(function(a){if(!(a.name in b))return b[a.name]=a;var c=b[a.name];return"class"==a.name.toLowerCase()?c.value+=(c.value.length?" ":"")+a.value:(c.value=a.value,c.isImplied=!!a.isImplied),!1})}function l(a){if(!~a.indexOf("{"))return null;for(var b=u.create(a);!b.eol();)switch(b.peek()){case"[":case"(":b.skipToPair(b.peek(),E[b.peek()]);break;case"{":return b.start=b.pos,b.skipToPair("{","}"),{element:a.substring(0,b.start),text:e(b.current())};default:b.next()}}function m(a){for(var b,c,d,e=a.children.length-1;e>=0;e--)if(c=a.children[e],c.isRepeating())for(d=b=c.repeatCount,c.repeatCount=1,c.updateProperty("counter",1),c.updateProperty("maxCount",d);--b>0;)c.parent.addChild(c.clone(),e+1).updateProperty("counter",b+1).updateProperty("maxCount",d);return a.children.forEach(m),a}function n(a){for(var b=a.children.length-1;b>=0;b--){var c=a.children[b];c.isGroup()?c.replace(n(c).children):c.isEmpty()&&c.remove()}return a.children.forEach(n),a}function o(a){var b=a.charCodeAt(0),c="#.*:$-_!@|%";return b>64&&91>b||b>96&&123>b||b>47&&58>b||-1!=c.indexOf(a)}var p=a("../assets/tabStops"),q=a("../assets/profile"),r=a("../filter/main"),s=a("../utils/common"),t=a("../utils/abbreviation"),u=a("../assets/stringStream"),v=a("../generator/lorem"),w=a("./processor/pastedContent"),x=a("./processor/tagName"),y=a("./processor/resourceMatcher"),z=a("./processor/attributes"),A=a("./processor/href"),B=/^[\w\-\$\:@\!%]+\+?$/i,C=/[\w\-:\$@]/,D="%default",E={"[":"]","(":")","{":"}"},F=Array.prototype.splice,G=[],H=[],I=[];return d.prototype={addChild:function(a,b){return a=a||new d,a.parent=this,"undefined"==typeof b?this.children.push(a):this.children.splice(b,0,a),a},clone:function(){var a=new d,b=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];return b.forEach(function(b){a[b]=this[b]},this),a._attributes=this._attributes.map(function(a){return s.extend({},a)}),a._data=s.extend({},this._data),a.children=this.children.map(function(b){return b=b.clone(),b.parent=a,b}),a},remove:function(){if(this.parent){var a=this.parent.children.indexOf(this);~a&&this.parent.children.splice(a,1)}return this},replace:function(){var a=this.parent,b=a.children.indexOf(this),c=s.flatten(arguments);F.apply(a.children,[b,1].concat(c)),c.forEach(function(b){b.parent=a})},updateProperty:function(a,b){return this[a]=b,this.children.forEach(function(c){c.updateProperty(a,b)}),this},find:function(a){return this.findAll(a,{amount:1})[0]},findAll:function(a,b){if(b=s.extend({amount:0,found:0},b||{}),"function"!=typeof a){var c=a.toLowerCase();a=function(a){return a.name().toLowerCase()==c}}var d=[];return this.children.forEach(function(c){a(c)&&(d.push(c),b.found++,b.amount&&b.found>=b.amount)||(d=d.concat(c.findAll(a)))}),d.filter(function(a){return!!a})},data:function(a,b){return 2==arguments.length&&(this._data[a]=b),this._data[a]},name:function(){return this._name},attributeList:function(){return k(this._attributes.slice(0))},attribute:function(a,b){if(2==arguments.length){if(null===b){var c=this._attributes.filter(function(b){return b.name===a}),d=this;return void c.forEach(function(a){var b=d._attributes.indexOf(a);~b&&d._attributes.splice(b,1)})}var e=this._attributes.map(function(a){return a.name}),f=e.indexOf(a.toLowerCase());~f?this._attributes[f].value=b:this._attributes.push({name:a,value:b})}return(s.find(this.attributeList(),function(b){return b.name==a})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(a){a?this.repeatCount=parseInt(a,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(a){a=a||"";var b=this;a=a.replace(/\*(\d+)?$/,function(a,c){return b._setRepeat(c),""}),this.abbreviation=a;var c=l(a);c&&(a=c.element,this.content=this._text=c.text);var d=j(a);if(d&&(a=d.element,this._attributes=d.attributes),this._name=a,this._name&&!B.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var a=this.start,b=this.end,c=this.content,d=this;I.forEach(function(e){a=e(a,d,"start"),c=e(c,d,"content"),b=e(b,d,"end")});var e=this.children.map(function(a){return a.valueOf()}).join("");return c=t.insertChildContent(c,e,{keepVariable:!1}),a+s.padString(c,this.padding)+b},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!s.find(this.children,function(a){return a.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var a=this;a.children.length;)a=a.children[a.children.length-1];return a}},I.push(function(a,b){return s.replaceCounter(a,b.counter,b.maxCount)}),I.push(p.abbrOutputProcessor.bind(p)),[v,y,z,w,x,A].forEach(function(a){a.preprocessor&&G.push(a.preprocessor.bind(a)),a.postprocessor&&H.push(a.postprocessor.bind(a))}),{DEFAULT_ATTR_NAME:D,parse:function(a,b){b=b||{};var c=f(a),d=this;if(b.contextNode){c._name=b.contextNode.name;var e={};c._attributes.forEach(function(a){e[a.name]=a}),b.contextNode.attributes.forEach(function(a){a.name in e?e[a.name].value=a.value:(a=s.clone(a),c._attributes.push(a),e[a.name]=a)})}return G.forEach(function(a){a(c,b,d)}),"counter"in b&&c.updateProperty("counter",b.counter),c=n(m(c)),H.forEach(function(a){a(c,b,d)}),c},expand:function(a,b){if(!a)return"";if("string"==typeof b)throw new Error("Deprecated use of `expand` method: `options` must be object");b=b||{},b.syntax||(b.syntax=s.defaultSyntax());var c=q.get(b.profile,b.syntax);p.resetTabstopIndex();var d=r.extract(a),e=this.parse(d[0],b),f=r.composeList(b.syntax,c,d[1]);return r.apply(e,f,c),e.valueOf()},AbbreviationNode:d,addPreprocessor:function(a){~G.indexOf(a)||G.push(a)},removeFilter:function(a){var b=G.indexOf(a);~b&&G.splice(b,1)},addPostprocessor:function(a){~H.indexOf(a)||H.push(a)},removePostprocessor:function(a){var b=H.indexOf(a);~b&&H.splice(b,1)},addOutputProcessor:function(a){~I.indexOf(a)||I.push(a)},removeOutputProcessor:function(a){var b=I.indexOf(a);~b&&I.splice(b,1)},isAllowedChar:function(a){return a=String(a),o(a)||~">+^[](){}".indexOf(a)}}})},{"../assets/profile":"assets/profile.js","../assets/stringStream":"assets/stringStream.js","../assets/tabStops":"assets/tabStops.js","../filter/main":"filter/main.js","../generator/lorem":"generator/lorem.js","../utils/abbreviation":"utils/abbreviation.js","../utils/common":"utils/common.js","./processor/attributes":"parser/processor/attributes.js","./processor/href":"parser/processor/href.js","./processor/pastedContent":"parser/processor/pastedContent.js","./processor/resourceMatcher":"parser/processor/resourceMatcher.js","./processor/tagName":"parser/processor/tagName.js"}],"parser/css.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){return b=b||a.charCodeAt(0),b>=97&&122>=b||b>=65&&90>=b||b>=1024&&1279>=b||"&"===a||"_"===a||"<"===a||">"===a||"="===a||"-"===a}function e(a,b){return b=b||a.charCodeAt(0),b>=48&&57>=b}function f(a,b){s.tokens.push({value:a,type:b||a,start:null,end:null})}function g(a){for(var b=a.chnum,c=a.source.replace(/\r\n?/g,"\n"),d=a.source.substring(0,b+1).replace(/\r\n?/g,"\n"),e=d.split("\n"),f=(e[e.length-1]||"").length,g=c.split("\n")[e.length-1]||"",h=100,i=Math.max(0,f-h),j=g.substr(i,2*h)+"\n",k=0;f-i-1>k;k++)j+="-";return j+="^",{line:e.length,ch:f,text:g,hint:j}}function h(a){var b=i(a),c=new Error(b.message,"",b.line);throw c.line=b.line,c.ch=b.ch,c.name=b.name,c.hint=b.hint,c}function i(a){var b=g(t);s.tokens;s.tokens=null;var c="CSS parsing error at line "+b.line+", char "+b.ch+": "+a;return c+="\n"+b.hint,{name:"ParseError",message:c,hint:b.hint,line:b.line,ch:b.ch}}function j(){for(var a=t.ch,b="";" "===a||"	"===a;)b+=a,a=t.nextChar();f(b,"white")}function k(){var a,b=t,c=b.ch,d=c;if(a=b.nextChar(),"/"===a)for(;c&&"\n"!==a&&"\r"!==a;)d+=a,c=a,a=b.nextChar();else{if("*"!==a)return f(d,d);for(;c&&("*"!==c||"/"!==a);)d+=a,c=a,a=b.nextChar()}d+=a,b.nextChar(),f(d,"comment")}function l(){var a,b=t,c=b.ch,d=c,e=c;for(c=b.nextChar();c!==d;)"\n"===c?(a=b.nextChar(),"\\"===a?e+=c+a:h("Unterminated string")):e+="\\"===c?c+b.nextChar():c,c=b.nextChar();return e+=c}function m(){var a=l();t.nextChar(),f(a,"string")}function n(){var a=t,b=a.ch,c=1,d=b,e=!1;for(b=a.nextChar();b&&!e;)"("===b?c++:")"===b?(c--,c||(e=!0)):'"'===b||"'"===b?b=l():""===b&&h("Unterminated brace"),d+=b,b=a.nextChar();f(d,"brace")}function o(a){var b=t.ch,c=a?a+b:b;b=t.nextChar();for(var g=b.charCodeAt(0);d(b,g)||e(b,g);)c+=b,b=t.nextChar(),g=b.charCodeAt(0);f(c,"identifier")}function p(){var a,b=t,c=b.ch,d=c,g="."===d;if(c=b.nextChar(),a=!e(c),g&&a)return f(d,".");if("-"===d&&a)return o("-");for(;""!==c&&(e(c)||!g&&"."===c);)"."===c&&(g=!0),d+=c,c=b.nextChar();f(d,"number")}function q(){var a=t,b=a.ch,c=b,d=a.nextChar();return"="===d&&u(c,!0)?(c+=d,f(c,"match"),void a.nextChar()):void f(c,c)}function r(){var a=t.ch;return" "===a||"	"===a?j():"/"===a?k():'"'===a||"'"===a?m():"("===a?n():"-"===a||"."===a||e(a)?p():d(a)?o():u(a)?q():"\r"===a?("\n"===t.peek()&&(a+=t.nextChar()),f(a,"line"),void t.nextChar()):"\n"===a?(f(a,"line"),void t.nextChar()):void h("Unrecognized character '"+a+"'")}var s={tokens:null},t={init:function(a){this.source=a,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}},u=function(){for(var a="{}[]()+*=.,;:>~|\\%$#@^!".split(""),b="*^|$~".split(""),c={},d={},e=0;e<a.length;e+=1)c[a[e]]=!0;for(e=0;e<b.length;e+=1)d[b[e]]=!0;return function(a,b){return b?a in d:a in c}}();return{lex:function(a){if(t.init(a),s.tokens=[],a)for(;""!==t.ch;)r();else s.tokens.push(this.white());var b=s.tokens;return s.tokens=null,b},parse:function(a){for(var b,c=this.lex(a),d=0,e=0,f=c.length;f>e;e++)b=c[e],b.start=d,b.end=d+=b.value.length;return c},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}}})},{}],"parser/processor/attributes.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){a.children.forEach(function(a){var c=a.attributeList(),i=a.attribute(b.DEFAULT_ATTR_NAME);if("undefined"!=typeof i){if(a.attribute(b.DEFAULT_ATTR_NAME,null),c.length){var j=e.find(c,f)||e.find(c,g)||e.find(c,h);if(j){var k=a.attribute(j.name),l=e.replaceUnescapedSymbol(k,"|",i);k==l&&(l=i),a.attribute(j.name,l)}}}else c.forEach(function(b){b.isImplied&&a.attribute(b.name,null)});d(a,b)})}var e=a("../../utils/common"),f=function(a){return a.isDefault},g=function(a){return a.isImplied},h=function(a){return!a.value};return{preprocessor:function(a,b,c){d(a,c)}}})},{"../../utils/common":"utils/common.js"}],"parser/processor/href.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../../assets/preferences"),e=a("../../utils/common"),f=a("./pastedContent");return d.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping		text with <code>&lt;a&gt;</code> tag. With this option enabled,		if wrapped text matches URL or e-mail pattern it will be automatically		inserted into <code>href</code> attribute."),d.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts		as-is into <code>href</code> attribute, only whitespace will be trimmed."),d.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,		wrapped content will be prefixed with <code>mailto:</code> in <code>href</code>		attribute"),{postprocessor:function(a,b){if(d.get("href.autodetect")){var c=new RegExp(d.get("href.urlPattern"),"i"),g=new RegExp(d.get("href.emailPattern"),"i"),h=/^([a-z]+:)?\/\//i;a.findAll(function(a){if("a"==a.name().toLowerCase()&&!a.attribute("href")){var d=e.trim(f.pastedContent(a)||b.pastedContent);d&&(c.test(d)?(h.test(d)||(d="http://"+d),a.attribute("href",d)):g.test(d)&&a.attribute("href","mailto:"+d))}})}}}})},{"../../assets/preferences":"assets/preferences.js","../../utils/common":"utils/common.js","./pastedContent":"parser/processor/pastedContent.js"}],"parser/processor/pastedContent.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){for(var b=[],c=j.create(a);!c.eol();){if("\\"==c.peek())c.next();else if(c.start=c.pos,c.match(l,!0)){b.push(k.create(c.start,l));continue}c.next()}return b}function e(a,b){var c=d(a);return c.reverse().forEach(function(c){a=h.replaceSubstring(a,b,c)}),a}function f(a){return d(a.content).length?!0:!!h.find(a.attributeList(),function(a){return!!d(a.value).length})}function g(a,b,c){var d=a.findAll(function(a){return f(a)});if(f(a)&&d.unshift(a),d.length)d.forEach(function(a){a.content=e(a.content,b),a._attributes.forEach(function(a){a.value=e(a.value,b)})});else{var g=a.deepestChild()||a;c?g.content=b:g.content=i.insertChildContent(g.content,b)}}var h=a("../../utils/common"),i=a("../../utils/abbreviation"),j=a("../../assets/stringStream"),k=a("../../assets/range"),l="$#";return{pastedContent:function(a){var b=a.data("paste");return Array.isArray(b)?b[a.counter-1]:"function"==typeof b?b(a.counter-1,a.content):b?b:void 0},preprocessor:function(a,b){if(b.pastedContent){var c=h.splitByLines(b.pastedContent,!0).map(h.trim);a.findAll(function(a){return a.hasImplicitRepeat?(a.data("paste",c),a.repeatCount=c.length):void 0})}},postprocessor:function(a,b){var c=this,d=a.findAll(function(a){var b=c.pastedContent(a);return b&&g(a,b,!!a.data("pasteOverwrites")),!!b});!d.length&&b.pastedContent&&g(a,b.pastedContent)}}})},{"../../assets/range":"assets/range.js","../../assets/stringStream":"assets/stringStream.js","../../utils/abbreviation":"utils/abbreviation.js","../../utils/common":"utils/common.js"}],"parser/processor/resourceMatcher.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){a.children.slice(0).forEach(function(a){var g=e.getMatchedResource(a,b);"string"==typeof g&&(g=f.create("snippet",g)),a.data("resource",g);var i=f.type(g);if("snippet"==i){var j=g.data,k=a._text||a.content;k&&(j=h.insertChildContent(j,k)),a.content=j}else if("element"==i)a._name=g.name,Array.isArray(g.attributes)&&(a._attributes=[].concat(g.attributes,a._attributes));else if("reference"==i){var l=c.parse(g.data,{syntax:b});if(a.repeatCount>1){var m=l.findAll(function(a){return a.hasImplicitRepeat});m.length||(m=l.children),m.forEach(function(b){b.repeatCount=a.repeatCount,b.hasImplicitRepeat=!1})}var n=l.deepestChild();n&&(a.children.forEach(function(a){n.addChild(a)}),n.content=a.content),l.children.forEach(function(b){a.attributeList().forEach(function(a){b.attribute(a.name,a.value)})}),a.replace(l.children)}d(a,b,c)})}var e=a("../../assets/resources"),f=a("../../assets/elements"),g=a("../../utils/common"),h=a("../../utils/abbreviation");return{preprocessor:function(a,b,c){var e=b.syntax||g.defaultSyntax();d(a,e,c)}}})},{"../../assets/elements":"assets/elements.js","../../assets/resources":"assets/resources.js","../../utils/abbreviation":"utils/abbreviation.js","../../utils/common":"utils/common.js"}],"parser/processor/tagName.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return a.children.forEach(function(a){(a.hasImplicitName()||a.data("forceNameResolving"))&&(a._name=e.resolve(a.parent.name()),a.data("nameResolved",!0)),d(a)}),a}var e=a("../../resolver/tagName");return{postprocessor:d}})},{"../../resolver/tagName":"resolver/tagName.js"}],"parser/xml.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if("<"==d){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(g("atom","]]>")):null:a.match("--")?c(g("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(h(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=g("meta","?>"),"meta";A=a.eat("/")?"closeTag":"openTag",a.eatSpace(),z="";for(var f;f=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)z+=f;return b.tokenize=e,"tag"}if("&"==d){var i;return i=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),i?"atom":"error"}return a.eatWhile(/[^&<]/),"text"}function e(a,b){var c=a.next();return">"==c||"/"==c&&a.eat(">")?(b.tokenize=d,A=">"==c?"endTag":"selfcloseTag","tag"):"="==c?(A="equals",null):/[\'\"]/.test(c)?(b.tokenize=f(c),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function f(a){return function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=e;break}return"string"}}function g(a,b){return function(c,e){for(;!c.eol();){if(c.match(b)){e.tokenize=d;break}c.next()}return a}}function h(a){return function(b,c){for(var e;null!==(e=b.next());){if("<"==e)return c.tokenize=h(a+1),c.tokenize(b,c);if(">"==e){if(1==a){c.tokenize=d;break}return c.tokenize=h(a-1),c.tokenize(b,c)}}return"meta"}}function i(){for(var a=arguments.length-1;a>=0;a--)B.cc.push(arguments[a])}function j(){return i.apply(null,arguments),!0}function k(a,b){var c=y.doNotIndent.hasOwnProperty(a)||B.context&&B.context.noIndent;B.context={prev:B.context,tagName:a,indent:B.indented,startOfLine:b,noIndent:c}}function l(){B.context&&(B.context=B.context.prev)}function m(a){if("openTag"==a)return B.tagName=z,j(q,n(B.startOfLine));if("closeTag"==a){var b=!1;return B.context?B.context.tagName!=z&&(y.implicitlyClosed.hasOwnProperty(B.context.tagName.toLowerCase())&&l(),b=!B.context||B.context.tagName!=z):b=!0,b&&(w="error"),j(o(b))}return j()}function n(a){return function(b){return"selfcloseTag"==b||"endTag"==b&&y.autoSelfClosers.hasOwnProperty(B.tagName.toLowerCase())?(p(B.tagName.toLowerCase()),j()):"endTag"==b?(p(B.tagName.toLowerCase()),k(B.tagName,a),j()):j()}}function o(a){return function(b){return a&&(w="error"),"endTag"==b?(l(),j()):(w="error",j(arguments.callee))}}function p(a){for(var b;;){if(!B.context)return;if(b=B.context.tagName.toLowerCase(),!y.contextGrabbers.hasOwnProperty(b)||!y.contextGrabbers[b].hasOwnProperty(a))return;l()}}function q(a){return"word"==a?(w="attribute",j(r,q)):"endTag"==a||"selfcloseTag"==a?i():(w="error",j(q))}function r(a){return"equals"==a?j(s,q):(y.allowMissing||(w="error"),"endTag"==a||"selfcloseTag"==a?i():j())}function s(a){return"string"==a?j(t):"word"==a&&y.allowUnquoted?(w="string",j()):(w="error","endTag"==a||"selfCloseTag"==a?i():j())}function t(a){return"string"==a?j(t):i()}function u(){return{tokenize:d,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}}function v(a,b){if(a.sol()&&(b.startOfLine=!0,b.indented=0),a.eatSpace())return null;w=A=z=null;var c=b.tokenize(a,b);if(b.type=A,(c||A)&&"comment"!=c)for(B=b;;){var d=b.cc.pop()||m;if(d(A||c))break}return b.startOfLine=!1,w||c}var w,x=a("../assets/stringStream"),y={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},z=null,A=null,B=null;return{parse:function(a,b){b=b||0;for(var c=u(),d=x.create(a),e=[];!d.eol();)e.push({type:v(d,c),start:d.start+b,end:d.pos+b}),d.start=d.pos;return e}}})},{"../assets/stringStream":"assets/stringStream.js"}],"plugin/file.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function e(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(String.fromCharCode(a[c]));return b.join("")}function f(a){var b=/^https?:\/\//;return b.test(a)}var g=a("../utils/common");return function(a){if("undefined"==typeof d||!d.amd)try{fs=a("fs"),path=a("path")}catch(b){}}(a),c.exports=function(a){a&&g.extend(c.exports,a)},g.extend(c.exports,{_parseParams:function(a){var b={path:a[0],size:0};return a=g.toArray(a,1),b.callback=a[a.length-1],a=a.slice(0,a.length-1),a.length&&(b.size=a[0]),b},_read:function(b,c){if(f(b.path))var d=a(/^https:/.test(b.path)?"https":"http").get(b.path,function(a){var e=[],f=0,g=!1;a.on("data",function(a){f+=a.length,e.push(a),b.size&&f>=b.size&&(g=!0,c(null,Buffer.concat(e)),d.abort())}).on("end",function(){g||(g=!0,c(null,Buffer.concat(e)))})}).on("error",c);else if(b.size){var e=fs.openSync(b.path,"r"),g=new Buffer(b.size);fs.read(e,g,0,b.size,null,function(a,b){c(a,g)})}else c(null,fs.readFileSync(b.path))},read:function(a,b,c){var d=this._parseParams(arguments);this._read(d,function(a,b){d.callback(a,a?"":e(b))})},readText:function(a,b,c){var d=this._parseParams(arguments);this._read(d,function(a,b){d.callback(a,a?"":b.toString())})},locateFile:function(a,b){if(f(b))return b;var c,d=a;for(b=b.replace(/^\/+/,"");d&&d!==path.dirname(d);)if(d=path.dirname(d),c=path.join(d,b),fs.existsSync(c))return c;return""},createPath:function(a,b,c){var d=fs.statSync(a);return d&&!d.isDirectory()&&(a=path.dirname(a)),c(path.resolve(a,b))},save:function(a,b){fs.writeFileSync(a,b,"ascii")},getExt:function(a){var b=(a||"").match(/\.([\w\-]+)$/);return b?b[1].toLowerCase():""}})})},{"../utils/common":"utils/common.js"}],"resolver/css.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){var b=a&&a.charCodeAt(0);return a&&"."==a||b>47&&58>b}function e(a){return a=y.trim(a),/\/\*|\n|\r/.test(a)?!1:/^[a-z0-9\-]+\s*\:/i.test(a)?2==a.replace(/\$\{.+?\}/g,"").split(":").length:!1}function f(a){"-"!=a.charAt(0)||/^\-[\.\d]/.test(a)||(a=a.replace(/^\-+/,""));var b=a.charAt(0);return"#"==b?g(a):"$"==b?y.escapeText(a):i(a)}function g(a){var b=a.replace(/^#+/,"")||"0";if("t"==b.toLowerCase())return"transparent";var c="";b=b.replace(/\.(\d+)$/,function(a){return c="0"+a,""});var d=y.repeatString,e=null;switch(b.length){case 1:e=d(b,6);break;case 2:e=d(b,3);break;case 3:e=b.charAt(0)+b.charAt(0)+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2);break;case 4:e=b+b.substr(0,2);break;case 5:e=b+b.charAt(0);break;default:e=b.substr(0,6)}if(c)return h(e,c);if(u.get("css.color.short")){var f=e.split("");f[0]==f[1]&&f[2]==f[3]&&f[4]==f[5]&&(e=f[0]+f[2]+f[4])}switch(u.get("css.color.case")){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return"#"+e}function h(a,b){var c=parseInt(a.substr(0,2),16),d=parseInt(a.substr(2,2),16),e=parseInt(a.substr(4,2),16);return"rgba("+[c,d,e,b].join(", ")+")"}function i(a){var b=u.getDict("css.keywordAliases");return a in b?b[a]:a}function j(a){var b=u.getDict("css.unitAliases");return a in b?b[a]:a}function k(a){return~u.getArray("css.keywords").indexOf(i(a))}function l(a,b){var c=C[b];return c||(c=y.find(C,function(a){return a.prefix==b})),c&&c.supports(a)}function m(a){var b=x.resolvePrefixes(a);return b||(b=[],Object.keys(C).forEach(function(c){l(a,c)&&b.push(C[c].prefix)}),b.length||(b=null)),b}function n(a,b){var c=[],d=m(a);if(d){var e={};Object.keys(C).forEach(function(a){e[C[a].prefix]=a}),c=d.map(function(a){return e[a]})}return c.length||b||Object.keys(C).forEach(function(a){C[a].obsolete||c.push(a)}),c}function o(a,b){"string"==typeof b&&(b={prefix:b}),C[a]=y.extend({},B,b)}function p(a,b){if(b){"styl"==b&&(b="stylus");var c=u.get(b+"."+a);if("undefined"!=typeof c)return c}return u.get("css."+a)}function q(a,b){var c=a.indexOf(":");return a=a.substring(0,c).replace(/\s+$/,"")+p("valueSeparator",b)+y.trim(a.substring(c+1)),a.replace(/\s*;\s*$/,p("propertyEnd",b))}function r(a,b,c){return"string"!=typeof a&&(a=a.data),e(a)?(b&&(~a.indexOf(";")?a=a.split(";").join(" !important;"):a+=" !important"),q(a,c)):a}function s(a){var b=u.getArray(a),c=u.getArray(a+"Addon");return c&&c.forEach(function(a){"-"==a.charAt(0)?b=y.without(b,a.substr(1)):("+"==a.charAt(0)&&(a=a.substr(1)),b.push(a))}),b}function t(a,b,c){var d=[],e={},f=A.findParts(a.value);return f.reverse(),f.forEach(function(b){var c=b.substring(a.value);(m(c)||[]).forEach(function(f){e[f]||(e[f]=a.value,d.push(f)),e[f]=y.replaceSubstring(e[f],"-"+f+"-"+c,b)})}),d.map(function(d){return r(a.name+":"+e[d],b,c)})}var u=a("../assets/preferences"),v=a("../assets/resources"),w=a("../assets/stringStream"),x=a("../assets/caniuse"),y=a("../utils/common"),z=a("../utils/template"),A=a("../editTree/css"),B={
prefix:"emmet",obsolete:!1,transformName:function(a){return"-"+this.prefix+"-"+a},properties:function(){return s("css."+this.prefix+"Properties")||[]},supports:function(a){return~this.properties().indexOf(a)}},C={},D="${1};";u.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),u.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),u.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),u.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),u.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),u.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),u.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),u.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),u.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),u.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),u.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var E=z("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),F=z("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),G={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};return Object.keys(G).forEach(function(a){u.define("css."+a+"Properties",G[a],E({vendor:a})),u.define("css."+a+"PropertiesAddon","",F({vendor:a}))}),u.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),u.define("css.intUnit","px","Default unit for integer values"),u.define("css.floatUnit","em","Default unit for float values"),u.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),u.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),u.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),u.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),u.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),u.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),u.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),u.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),o("w",{prefix:"webkit"}),o("m",{prefix:"moz"}),o("s",{prefix:"ms"}),o("o",{prefix:"o"}),c=c||{},c.exports={addPrefix:o,supportsPrefix:l,resolve:function(a,b){var c=u.getArray("css.syntaxes");return c&&~c.indexOf(b)&&a.isElement()?this.expandToSnippet(a.abbreviation,b):null},prefixed:function(a,b){return l(a,b)?"-"+b+"-"+a:a},listPrefixes:function(){return C.map(function(a){return a.prefix})},getPrefix:function(a){return C[a]},removePrefix:function(a){a in C&&delete C[a]},extractPrefixes:function(a){if("-"!=a.charAt(0))return{property:a,prefixes:null};for(var b,c=1,d=a.length,e=[];d>c;){if(b=a.charAt(c),"-"==b){c++;break}if(!(b in C)){e.length=0,c=1;break}e.push(b),c++}return c==d-1&&(c=1,e.length=1),{property:a.substring(c),prefixes:e.length?e:"all"}},findValuesInAbbreviation:function(a,b){b=b||"css";for(var c,e=0,f=a.length,g="";f>e;){if(c=a.charAt(e),d(c)||"#"==c||"$"==c||"-"==c&&d(a.charAt(e+1))){g=a.substring(e);break}e++}for(var h=a.substring(0,a.length-g.length),i=[];~h.indexOf("-")&&!v.findSnippet(b,h);){var j=h.split("-"),l=j.pop();if(!k(l))break;i.unshift(l),h=j.join("-")}return i.join("-")+g},parseValues:function(a){for(var b=w.create(a),c=[],e=null;e=b.next();)"$"==e?(b.match(/^[^\$]+/,!0),c.push(b.current())):"#"==e?(b.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),c.push(b.current())):"-"==e?((k(y.last(c))||b.start&&d(a.charAt(b.start-1)))&&(b.start=b.pos),b.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),c.push(b.current())):(b.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),c.push(b.current())),b.start=b.pos;return c.filter(function(a){return!!a}).map(f)},extractValues:function(a){var b=this.findValuesInAbbreviation(a);return b?{property:a.substring(0,a.length-b.length).replace(/-$/,""),values:this.parseValues(b)}:{property:a,values:null}},normalizeValue:function(a,b){b=(b||"").toLowerCase();var c=u.getArray("css.unitlessProperties");return a.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(a,d,e){return e||"0"!=d&&!~c.indexOf(b)?e?d+j(e):d.replace(/\.$/,"")+u.get(~d.indexOf(".")?"css.floatUnit":"css.intUnit"):d})},expand:function(a,b,c){c=c||"css";var d=u.get(c+".autoInsertVendorPrefixes"),f=/^(.+)\!$/.test(a);f&&(a=RegExp.$1);var g=v.findSnippet(c,a);if(g&&!d)return r(g,f,c);var h=this.extractPrefixes(a),i=this.extractValues(h.property),j=y.extend(h,i);if(g?j.values=null:g=v.findSnippet(c,j.property),!g&&u.get("css.fuzzySearch")&&(g=v.fuzzyFindSnippet(c,j.property,parseFloat(u.get("css.fuzzySearchMinScore")))),g)"string"!=typeof g&&(g=g.data);else{if(!j.property)return null;g=j.property+":"+D}if(!e(g))return g;var k=this.splitSnippet(g),l=[];!b&&j.values&&(b=j.values.map(function(a){return this.normalizeValue(a,k.name)},this).join(" ")+";"),k.value=b||k.value;var m,o="all"==j.prefixes||!j.prefixes&&d?n(k.name,d&&"all"!=j.prefixes):j.prefixes,p=[];if((o||[]).forEach(function(a){a in C&&(m=C[a].transformName(k.name),p.push(m),l.push(r(m+":"+k.value,f,c)))}),l.push(r(k.name+":"+k.value,f,c)),p.push(k.name),l=t(k,f,c).concat(l),u.get("css.alignVendor")){var q=y.getStringsPads(p);l=l.map(function(a,b){return q[b]+a})}return l},expandToSnippet:function(a,b){var c=this.expand(a,null,b);return null===c?null:Array.isArray(c)?c.join("\n"):"string"!=typeof c?c.data:c+""},splitSnippet:function(a){if(a=y.trim(a),-1==a.indexOf(":"))return{name:a,value:D};var b=a.split(":");return{name:y.trim(b.shift()),value:y.trim(b.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:p,transformSnippet:r,vendorPrefixes:m},c.exports})},{"../assets/caniuse":"assets/caniuse.js","../assets/preferences":"assets/preferences.js","../assets/resources":"assets/resources.js","../assets/stringStream":"assets/stringStream.js","../editTree/css":"editTree/css.js","../utils/common":"utils/common.js","../utils/template":"utils/template.js"}],"resolver/cssGradient.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b){var c=l.findSnippet(b,a);if(!c&&k.get("css.fuzzySearch")){var d=parseFloat(k.get("css.fuzzySearchMinScore"));c=l.fuzzyFindSnippet(b,a,d)}return c?("string"!=typeof c&&(c=c.data),n.splitSnippet(c).name):void 0}function e(a){var b=n.vendorPrefixes(a);return b||(b=k.getArray("css.gradient.prefixes")),b||[]}function f(a,b){var c=[],d=b.name(),f=k.get("css.gradient.omitDefaultDirection");k.get("css.gradient.fallback")&&~d.toLowerCase().indexOf("background")&&c.push({name:"background-color",value:"${1:"+a[0].gradient.colorStops[0].color+"}"});var h=b.value();return e("linear-gradient").forEach(function(b){var e=n.prefixed(d,b);if("webkit"==b&&k.get("css.gradient.oldWebkit"))try{c.push({name:e,value:g(a,h,{prefix:b,oldWebkit:!0,omitDefaultDirection:f})})}catch(i){}c.push({name:e,value:g(a,h,{prefix:b,omitDefaultDirection:f})})}),c.sort(function(a,b){return b.name.length-a.name.length})}function g(a,b,c){return c=c||{},a=m.clone(a),a.reverse().forEach(function(a,d){var e=!d&&c.placeholder?c.placeholder:"",f=c.oldWebkit?a.gradient.stringifyOldWebkit(c):a.gradient.stringify(c);b=m.replaceSubstring(b,f+e,a.matchedPart)}),b}function h(a){"string"!=typeof a&&(a=a.name());var b=(n.vendorPrefixes(a)||[]).map(function(b){return"-"+b+"-"+a});return b.push(a),b}function i(a,b){var c=a.parent,d=k.get("css.alignVendor"),e=k.get("css.gradient.omitDefaultDirection"),i=a.styleSeparator,j=a.styleBefore;if(c.getAll(h(a)).forEach(function(b){b!=a&&/gradient/i.test(b.value())&&(b.styleSeparator.length<i.length&&(i=b.styleSeparator),b.styleBefore.length<j.length&&(j=b.styleBefore),c.remove(b))}),d){if(j!=a.styleBefore){var l=a.fullRange();c._updateSource(j,l.start,l.start+a.styleBefore.length),a.styleBefore=j}i!=a.styleSeparator&&(c._updateSource(i,a.nameRange().end,a.valueRange().start),a.styleSeparator=i)}var n=a.value(),o=f(b,a);if(d){var p=[],q=[];o.forEach(function(a){p.push(a.name),q.push(a.value)}),q.push(a.value()),p.push(a.name());var r=m.getStringsPads(q.map(function(a){return a.substring(0,a.indexOf("("))})),s=m.getStringsPads(p);a.name(s[s.length-1]+a.name()),o.forEach(function(a,b){a.name=s[b]+a.name,a.value=r[b]+a.value}),a.value(r[r.length-1]+a.value())}o.forEach(function(b){c.add(b.name,b.value,c.indexOf(a))}),a.value(g(b,n,{placeholder:"${2}",omitDefaultDirection:e}))}function j(a,b,c){if(c=c||"css","css"==c||"less"==c||"scss"==c)return!0;for(var d=a.property.valueRange(!0).start,e=a.gradients,f=e.length-1;f>=0;f--)if(e[f].matchedPart.start+d>=b)return!1;return!0}var k=a("../assets/preferences"),l=a("../assets/resources"),m=a("../utils/common"),n=(a("../assets/stringStream"),a("./css")),o=a("../assets/range"),p=a("../editTree/css"),q=a("../utils/editor"),r=a("./gradient/linear"),s=["css","less","sass","scss","stylus","styl"];return k.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),k.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),k.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),k.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),k.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),c=c||{},c.exports={findGradients:function(a){var b=a.value(),c=[];return a.valueParts().forEach(function(a){var d=a.substring(b);if(r.isLinearGradient(d)){var e=r.parse(d);e&&c.push({gradient:e,matchedPart:a})}}),c.length?c:null},gradientsFromCSSProperty:function(a,b){var c=p.propertyFromPosition(a,b);if(c){var d=this.findGradients(c);if(d)return{property:c,gradients:d}}return null},expandAbbreviationHandler:function(a,b,c){var e=q.outputInfo(a,b,c);if(!~s.indexOf(e.syntax))return!1;var f=a.getCaretPos(),g=e.content,h=this.gradientsFromCSSProperty(g,f);if(h){if(!j(h,f,e.syntax))return!1;var k=h.property,l=k.parent,n=l.options.offset||0,o=n+l.toString().length;if(/[\n\r]/.test(k.value())){var p=k.valueRange(!0).start+m.last(h.gradients).matchedPart.end;g=m.replaceSubstring(g,";",p);var r=this.gradientsFromCSSProperty(g,f);r&&(h=r,k=h.property,l=k.parent)}k.end(";");var t=d(k.name(),b);return t&&k.name(t),i(k,h.gradients),a.replaceContent(l.toString(),n,o,!0),!0}return this.expandGradientOutsideValue(a,b)},expandGradientOutsideValue:function(a,b){var c=k.get("css.gradient.defaultProperty"),d=k.get("css.gradient.omitDefaultDirection");if(!c)return!1;var e=String(a.getContent()),h=o.create(a.getCurrentLineRange()),i=h.substring(e).replace(/^\s+/,function(a){return h.start+=a.length,""}).replace(/\s+$/,function(a){return h.end-=a.length,""}),j="a{"+c+": "+i+";}",l=this.gradientsFromCSSProperty(j,j.length-2);if(l){var p=f(l.gradients,l.property);p.push({name:l.property.name(),value:g(l.gradients,l.property.value(),{placeholder:"${2}",omitDefaultDirection:d})});var q=n.getSyntaxPreference("valueSeparator",b),r=n.getSyntaxPreference("propertyEnd",b);if(k.get("css.alignVendor")){var s=m.getStringsPads(p.map(function(a){return a.value.substring(0,a.value.indexOf("("))}));p.forEach(function(a,b){a.value=s[b]+a.value})}return p=p.map(function(a){return a.name+q+a.value+r}),a.replaceContent(p.join("\n"),h.start,h.end),!0}return!1},reflectValueHandler:function(a){var b=k.get("css.gradient.omitDefaultDirection"),c=this.findGradients(a);if(!c)return!1;var d=this,e=a.value();return a.parent.getAll(h(a)).forEach(function(f){if(f!==a){var h=d.findGradients(f);if(h){var i=f.value(),j=h[0].matchedPart.substring(i),k="";/^\s*\-([a-z]+)\-/.test(j)&&(k=RegExp.$1),f.value(g(c,e,{prefix:k,omitDefaultDirection:b}))}}}),!0}}})},{"../assets/preferences":"assets/preferences.js","../assets/range":"assets/range.js","../assets/resources":"assets/resources.js","../assets/stringStream":"assets/stringStream.js","../editTree/css":"editTree/css.js","../utils/common":"utils/common.js","../utils/editor":"utils/editor.js","./css":"resolver/css.js","./gradient/linear":"resolver/gradient/linear.js"}],"resolver/gradient/linear.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){this.colorStops=[],this.direction=180;for(var b,c,d=i.create(j.trim(a));b=d.next();)","==d.peek()?(c=d.current(),this.colorStops.length||!n.test(c)&&!o.test(c)?this.addColorStop(c):this.direction=f(c),d.next(),d.eatSpace(),d.start=d.pos):"("==b&&d.skipTo(")");this.addColorStop(d.current())}function e(a){return j.trim(a).replace(/\s+/g," ")}function f(a){if("number"==typeof a)return a;if(a=e(a).toLowerCase(),n.test(a))return+RegExp.$1;var b=/^to\s/.test(a)?"to ":"",c=~a.indexOf("left")&&"left",d=~a.indexOf("right")&&"right",f=~a.indexOf("top")&&"top",g=~a.indexOf("bottom")&&"bottom",h=e(b+(f||g||"")+" "+(c||d||""));return k[h]||0}function g(a,b){for(var c=/^to\s/,d=Object.keys(k).filter(function(a){var d=c.test(a);return b?!d:d}),e=0;e<d.length;e++)if(k[d[e]]==a)return d[e];return b&&(a=(a+270)%360),a+"deg"}function h(a){if(a=g(a,!0),n.test(a))throw"The direction is an angle that can’t be converted.";var b=function(b){return~a.indexOf(b)?"100%":"0"};return b("left")+" "+b("top")+", "+b("right")+" "+b("bottom")}var i=a("../../assets/stringStream"),j=a("../../utils/common"),k={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},l=["top","to bottom","0deg"],m=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,n=/(\d+)deg/i,o=/top|bottom|left|right/i;return d.prototype={type:"linear-gradient",addColorStop:function(a,b){a=e(a||""),a&&(a=this.parseColorStop(a),"undefined"==typeof b?this.colorStops.push(a):this.colorStops.splice(b,0,a))},parseColorStop:function(a){a=e(a);var b=null;if(a=a.replace(/^(\w+\(.+?\))\s*/,function(a,c){return b=c,""}),!b){var c=a.split(" ");b=c[0],a=c[1]||""}var d={color:b};return a&&a.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(a,b,c){d.position=b,~b.indexOf(".")?c="":c||(c="%"),c&&(d.unit=c)}),d},stringify:function(a){a=a||{};var b="linear-gradient";a.prefix&&(b="-"+a.prefix+"-"+b);var c=this.colorStops.map(function(a){var b=a.position?" "+a.position+(a.unit||""):"";return a.color+b}),d=g(this.direction,!!a.prefix);return a.omitDefaultDirection&&~l.indexOf(d)||c.unshift(d),b+"("+c.join(", ")+")"},stringifyOldWebkit:function(){var a=this.colorStops.map(function(a){return j.clone(a)});return a.forEach(function(a){if("position"in a){if(!~a.position.indexOf(".")&&"%"!=a.unit)throw"Can't convert color stop '"+(a.position+(a.unit||""))+"'";a.position=parseFloat(a.position)/("%"==a.unit?100:1)}}),this._fillImpliedPositions(a),a=a.map(function(b,c){return b.position||c?1==b.position&&c==a.length-1?"to("+b.color+")":"color-stop("+b.position.toFixed(2).replace(/\.?0+$/,"")+", "+b.color+")":"from("+b.color+")"}),"-webkit-gradient(linear, "+h((this.direction+180)%360)+", "+a.join(", ")+")"},_fillImpliedPositions:function(a){var b=0;a.forEach(function(c,d){if(!d)return c.position=c.position||0;if(d!=a.length-1||"position"in c||(c.position=1),"position"in c){var e=a[b].position||0,f=(c.position-e)/(d-b);a.slice(b,d).forEach(function(a,b){a.position=e+f*b}),b=d}})},valueOf:function(){return this.stringify()}},{parse:function(a){if(!this.isLinearGradient(a))throw"Invalid linear gradient definition:\n"+a;return a=a.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""),new d(a)},isLinearGradient:function(a){return m.test(a)},resolveDirection:f,stringifyDirection:g}})},{"../../assets/stringStream":"assets/stringStream.js","../../utils/common":"utils/common.js"}],"resolver/tagName.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../utils/common"),e={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},f={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(a){return a=(a||"").toLowerCase(),a in f?this.getMapping(a):this.isInlineLevel(a)?"span":"div"},getMapping:function(a){return f[a.toLowerCase()]},isInlineLevel:function(a){return this.isTypeOf(a,"inlineLevel")},isBlockLevel:function(a){return this.isTypeOf(a,"blockLevel")},isEmptyElement:function(a){return this.isTypeOf(a,"empty")},isTypeOf:function(a,b){return~e[b].indexOf(a)},addMapping:function(a,b){f[a]=b},removeMapping:function(a){a in f&&delete f[a]},addElementToCollection:function(a,b){e[b]||(e[b]=[]);var c=this.getCollection(b);~c.indexOf(a)||c.push(a)},removeElementFromCollection:function(a,b){b in e&&(e[b]=d.without(this.getCollection(b),a))},getCollection:function(a){return e[a]}}})},{"../utils/common":"utils/common.js"}],"utils/abbreviation.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../assets/elements"),e=a("../assets/tabStops"),f=a("../utils/common"),g=a("../resolver/tagName");return{isUnary:function(a){if(a.children.length||a._text||this.isSnippet(a))return!1;var b=a.data("resource");return b&&b.is_empty},isInline:function(a){return a.isTextNode()||!a.name()||g.isInlineLevel(a.name())},isBlock:function(a){return this.isSnippet(a)||!this.isInline(a)},isSnippet:function(a){return d.is(a.data("resource"),"snippet")},hasTagsInContent:function(a){return f.matchesTag(a.content)},hasBlockChildren:function(a){return this.hasTagsInContent(a)&&this.isBlock(a)||a.children.some(function(a){return this.isBlock(a)},this)},insertChildContent:function(a,b,c){c=f.extend({keepVariable:!0,appendIfNoChild:!0},c||{});var d=!1;return a=e.replaceVariables(a,function(e,g,h){var i=e;return"child"==g&&(i=f.padString(b,f.getLinePaddingFromPosition(a,h.start)),d=!0,c.keepVariable&&(i+=e)),i}),!d&&c.appendIfNoChild&&(a+=b),a}}})},{"../assets/elements":"assets/elements.js","../assets/tabStops":"assets/tabStops.js","../resolver/tagName":"resolver/tagName.js","../utils/common":"utils/common.js"}],"utils/action.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("./common"),e=a("./cssSections"),f=a("../parser/abbreviation"),g=a("../assets/htmlMatcher"),h=a("../editTree/xml"),i=a("../assets/range"),j=a("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(a){for(var b=a.length,c=-1,e=0,g=0,h=0;;){if(b--,0>b){c=0;break}var i=a.charAt(b);if("]"==i)g++;else if("["==i){if(!g){c=b+1;break}g--}else if("}"==i)h++;else if("{"==i){if(!h){c=b+1;break}h--}else if(")"==i)e++;else if("("==i){if(!e){c=b+1;break}e--}else{if(g||h)continue;if(!f.isAllowedChar(i)||">"==i&&d.endsWithTag(a.substring(0,b+1))){c=b+1;break}}}return-1==c||h||g||e?"":a.substring(c).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(a){var b="PNG\r\n\n",c="ÿØ",d="GIF8",e=0,f=function(){return a.charCodeAt(e++)};if(a.substr(0,8)===b)return e=a.indexOf("IHDR")+4,{width:f()<<24|f()<<16|f()<<8|f(),height:f()<<24|f()<<16|f()<<8|f()};if(a.substr(0,4)===d)return e=6,{width:f()|f()<<8,height:f()|f()<<8};if(a.substr(0,2)===c){e=2;for(var g=a.length;g>e;){if(255!=f())return;var h=f();if(218==h)break;var i=f()<<8|f();if(!(!(h>=192&&207>=h)||4&h||8&h))return e+=1,{height:f()<<8|f(),width:f()<<8|f()};e+=i-2}}},captureContext:function(a,b){var c={html:1,xml:1,xsl:1},d=a.getSyntax();if(d in c){var e=a.getContent();"undefined"==typeof b&&(b=a.getCaretPos());var f=g.find(e,b);if(f&&"tag"==f.type){var i=f.open,j={name:i.name,attributes:[],match:f},k=h.parse(i.range.substring(e));return k&&(j.attributes=k.getAll().map(function(a){return{name:a.name(),value:a.value()}})),j}}return null},findExpressionBounds:function(a,b){for(var c=String(a.getContent()),d=c.length,e=a.getCaretPos()-1,f=e+1;e>=0&&b(c.charAt(e),e,c);)e--;for(;d>f&&b(c.charAt(f),f,c);)f++;return f>e?i([++e,f]):void 0},compoundUpdate:function(a,b){if(b){var c=a.getSelectionRange();return a.replaceContent(b.data,b.start,b.end,!0),a.createSelection(b.caret,b.caret+c.end-c.start),!0}return!1},detectSyntax:function(a,b){var c=b||"html";return j.hasSyntax(c)||(c="html"),"html"==c&&(this.isStyle(a)||this.isInlineCSS(a))&&(c="css"),"styl"==c&&(c="stylus"),c},detectProfile:function(a){var b=a.getSyntax(),c=j.findItem(b,"profile");if(c)return c;switch(b){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(a))return"line";break;case"html":return c=j.getVariable("profile"),c||(c=this.isXHTML(a)?"xhtml":"html"),c}return"xhtml"},isXHTML:function(a){return-1!=a.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(a){return!!e.styleTagRange(a.getContent(),a.getCaretPos())},isSupportedCSS:function(a){return"css"==a||"less"==a||"scss"==a},isInlineCSS:function(a){return!!e.styleAttrRange(a.getContent(),a.getCaretPos())}}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/range":"assets/range.js","../assets/resources":"assets/resources.js","../editTree/xml":"editTree/xml.js","../parser/abbreviation":"parser/abbreviation.js","./common":"utils/common.js","./cssSections":"utils/cssSections.js"}],"utils/base64.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(a){for(var b,c,e,f,g,h,i,j,k,l,m=[],n=0,o=a.length,p=d;o>n;)j=a.charCodeAt(n++),k=a.charCodeAt(n++),l=a.charCodeAt(n++),b=255&j,c=255&k,e=255&l,f=b>>2,g=(3&b)<<4|c>>4,h=(15&c)<<2|e>>6,i=63&e,isNaN(k)?h=i=64:isNaN(l)&&(i=64),m.push(p.charAt(f)+p.charAt(g)+p.charAt(h)+p.charAt(i));return m.join("")},decode:function(a){var b,c,e,f,g,h,i,j,k=0,l=0,m=[],n=d,o=a.length;if(!a)return a;a+="";do f=n.indexOf(a.charAt(k++)),g=n.indexOf(a.charAt(k++)),h=n.indexOf(a.charAt(k++)),i=n.indexOf(a.charAt(k++)),j=f<<18|g<<12|h<<6|i,b=j>>16&255,c=j>>8&255,e=255&j,64==h?m[l++]=String.fromCharCode(b):64==i?m[l++]=String.fromCharCode(b,c):m[l++]=String.fromCharCode(b,c,e);while(o>k);return m.join("")}}})},{}],"utils/comments.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("./common"),e=(a("../assets/range"),a("../assets/stringStream")),f=/\/\*|\/\//;return{strip:function(a){if(!f.test(a))return a;for(var b,c,g=e(a),h=[];b=g.next();)if("/"===b){if(c=g.peek(),"*"===c)g.start=g.pos-1,g.skipTo("*/")?g.pos+=2:g.skipToEnd(),h.push([g.start,g.pos]);else if("/"===c){for(g.start=g.pos-1;(c=g.next())&&"\n"!==c&&"\r"!=c;);h.push([g.start,g.pos])}}else g.skipQuoted();return d.replaceWith(a,h," ")}}})},{"../assets/range":"assets/range.js","../assets/stringStream":"assets/stringStream.js","./common":"utils/common.js"}],"utils/common.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("../assets/range"),e="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(a){return this.reTag.test(a)},isNumeric:function(a){return"string"==typeof a&&(a=a.charCodeAt(0)),a&&a>47&&58>a},trim:function(){return String.prototype.trim?function(a){return a?a.trim():""}:function(a){return(a||"").replace(/^\s+|\s+$/g,"")}}(),splitByLines:function(a,b){
var c="\n",d=(a||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,c).split(c);return b&&(d=d.filter(function(a){return a.length&&!!this.trim(a)},this)),d},repeatString:function(a,b){for(var c="";b--;)c+=a;return c},getStringsPads:function(a){var b=a.map(function(a){return"string"==typeof a?a.length:+a}),c=b.reduce(function(a,b){return"undefined"==typeof a?b:Math.max(a,b)});return b.map(function(a){var b=c-a;return b?this.repeatString(" ",b):""},this)},padString:function(a,b){var c=[],d=this.splitByLines(a),e="\n";c.push(d[0]);for(var f=1;f<d.length;f++)c.push(e+b+d[f]);return c.join("")},zeroPadString:function(a,b){for(var c="",d=a.length;b>d++;)c+="0";return c+a},unindentString:function(a,b){for(var c,d=this.splitByLines(a),e=b.length,f=0,g=d.length;g>f;f++)c=d[f],c.substr(0,e)===b&&(d[f]=c.substr(e));return d.join("\n")},replaceUnescapedSymbol:function(a,b,c){for(var d=0,e=a.length,f=b.length,g=0;e>d;)if("\\"==a.charAt(d))d+=f+1;else if(a.substr(d,f)==b){var h=f;g++;var i=c;if("function"==typeof c){var j=c(a,b,d,g);j?(h=j[0].length,i=j[1]):i=!1}if(i===!1){d++;continue}a=a.substring(0,d)+i+a.substring(d+h),e=a.length,d+=i.length}else d++;return a},replaceCounter:function(a,b,c){var d="$";a=String(a),b=String(b),/^\-?\d+$/.test(b)&&(b=+b);var e=this;return this.replaceUnescapedSymbol(a,d,function(a,d,f,g){if("{"==a.charAt(f+1)||e.isNumeric(a.charAt(f+1)))return!1;for(var h=f+1;"$"==a.charAt(h)&&"{"!=a.charAt(h+1);)h++;var i,j=h-f,k=0,l=!1;return(i=a.substr(h).match(/^@(\-?)(\d*)/))&&(h+=i[0].length,i[1]&&(l=!0),k=parseInt(i[2]||1,10)-1),l&&c&&"number"==typeof b&&(b=c-b+1),b+=k,[a.substring(f,h),e.zeroPadString(b+"",j)]})},matchesTag:function(a){return this.reTag.test(a||"")},escapeText:function(a){return a.replace(/([\$\\])/g,"\\$1")},unescapeText:function(a){return a.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof e?e.apply(this,arguments):e},setCaretPlaceholder:function(a){e=a},getLinePadding:function(a){return(a.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(a,b){var c=this.findNewlineBounds(a,b);return this.getLinePadding(c.substring(a))},escapeForRegexp:function(a){var b=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return a.replace(b,"\\$&")},prettifyNumber:function(a,b){return a.toFixed("undefined"==typeof b?2:b).replace(/\.?0+$/,"")},replaceSubstring:function(a,b,c,d){return"object"==typeof c&&"end"in c&&(d=c.end,c=c.start),"string"==typeof d&&(d=c+d.length),"undefined"==typeof d&&(d=c),0>c||c>a.length?a:a.substring(0,c)+b+a.substring(d)},replaceWith:function(a,b,c,d){if(b.length){var e=0,f=[];b.forEach(function(b){var g=d?c:this.repeatString(c,b[1]-b[0]);f.push(a.substring(e,b[0]),g),e=b[1]},this),a=f.join("")+a.substring(e)}return a},narrowToNonSpace:function(a,b,c){for(var e=d.create(b,c),f=/[\s\n\r\u00a0]/;e.start<e.end&&f.test(a.charAt(e.start));)e.start++;for(;e.end>e.start;)if(e.end--,!f.test(a.charAt(e.end))){e.end++;break}return e},findNewlineBounds:function(a,b){for(var c,e=a.length,f=0,g=e-1,h=b-1;h>0;h--)if(c=a.charAt(h),"\n"==c||"\r"==c){f=h+1;break}for(var i=b;e>i;i++)if(c=a.charAt(i),"\n"==c||"\r"==c){g=i;break}return d.create(f,g-f)},deepMerge:function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length;for("object"!=typeof g&&"function"!=typeof g&&(g={});i>h;h++)if(null!==(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(d&&("object"==typeof d||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&"object"==typeof c?c:{},g[b]=this.deepMerge(f,d)):void 0!==d&&(g[b]=d));return g},parseJSON:function(a){if("object"==typeof a)return a;try{return JSON.parse(a)}catch(b){return{}}},unique:function(a,b){var c=[];return a.filter(function(a){var d=b?b(a):a;return c.indexOf(d)<0?(c.push(d),!0):void 0})},pick:function(a){var b={},c=this.toArray(arguments,1);return Object.keys(a).forEach(function(d){~c.indexOf(d)&&(b[d]=a[d])}),b},find:function(a,b,c){var d;return c&&(b=b.bind(c)),Array.isArray(a)?a.some(function(a,c){return b(a,c)?d=a:void 0}):Object.keys(a).some(function(c,e){return b(a[c],e)?d=a[c]:void 0}),d},toArray:function(a,b){return Array.isArray(a)&&!b?a:Array.prototype.slice.call(a,b||0)},extend:function(a){for(var b,c=1,d=arguments.length;d>c;c++)b=arguments[c],b&&Object.keys(b).forEach(function(c){a[c]=b[c]});return a},defaults:function(a){for(var b,c=1,d=arguments.length;d>c;c++)b=arguments[c],b&&Object.keys(b).forEach(function(c){c in a||(a[c]=b[c])});return a},flatten:function(a,b){b=b||[];var c=this;return c.toArray(a).forEach(function(a){Array.isArray(a)?c.flatten(a,b):b.push(a)}),b},clone:function(a){return Array.isArray(a)?a.slice(0):this.extend({},a)},without:function(a){return this.toArray(arguments,1).forEach(function(b){for(var c;~(c=a.indexOf(b));)a.splice(c,1)}),a},last:function(a){return a[a.length-1]}}})},{"../assets/range":"assets/range.js"}],"utils/cssSections.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){return'"'==a||"'"==a}function e(){return m=(m+1)%n,"s"+m}function f(a,b){this.id=e(),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=b,this._name=null,this._content=null,this._data={},!a&&b&&(a=i(0,b)),this.range=a,this.children=[]}var g=a("./common"),h=a("./comments"),i=a("../assets/range"),j=a("../assets/stringStream"),k=(a("../parser/css"),a("../assets/htmlMatcher")),l=a("../editTree/xml"),m=1,n=1e6,o=/^(\s*).+?(\s*)$/,p=/\s/g;return f.prototype={addChild:function(a){a instanceof f||(a=new f(a));var b=g.last(this.children);return b&&(b.nextSibling=a,a.previousSibling=b),a.parent=this,this.children.push(a),a},root:function(){var a=this;do if(!a.parent)return a;while(a=a.parent);return a},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var a=this.nameRange();a&&(this._name=a.substring(this.source()))}return this._name},nameRange:function(){return this.range&&"_selectorEnd"in this.range?i.create2(this.range.start,this.range._selectorEnd):void 0},matchDeep:function(a){if(!this.range.inside(a))return null;for(var b,c=0,d=this.children.length;d>c;c++)if(b=this.children[c].matchDeep(a))return b;return this.parent?this:null},allRanges:function(){var a=[];return this.parent&&a.push(this.range),this.children.forEach(function(b){a=a.concat(b.allRanges())}),a},data:function(a,b){return"undefined"!=typeof b&&(this._data[a]=b),this._data[a]},stringify:function(a){a=a||"";var b="";return this.children.forEach(function(c){b+=a+c.name().replace(/\n/g,"\\n")+"\n",b+=c.stringify(a+"--")}),b},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var a=i.create2(this.range._contentStart+1,this.range.end-1),b=this.source(),c=a.start,d="";return this.children.forEach(function(a){d+=b.substring(c,a.range.start),c=a.range.end}),d+=b.substring(c,a.end),this._content=g.trim(d)}},{findAllRules:function(a){a=this.sanitize(a);for(var b,c,e=j(a),f=[],h=this,k=function(b){var c=h.extractSelector(a,b.start),d=i.create2(c.start,b.end);d._selectorEnd=c.end,d._contentStart=b.start,f.push(d)};c=e.next();)if(d(c)){if(!e.skipString(c))break}else"{"==c&&(b=this.matchBracesRanges(a,e.pos-1),b.forEach(k),b.length)&&(e.pos=g.last(b).end);return f.sort(function(a,b){return a.start-b.start})},matchBracesRanges:function(a,b,c){c&&(a=this.sanitize(a));var d=j(a);d.start=d.pos=b;for(var e,f=[],g=[];e=d.next();)if("{"==e)f.push(d.pos-1);else if("}"==e){if(!f.length)throw"Invalid source structure (check for curly braces)";if(g.push(i.create2(f.pop(),d.pos)),!f.length)return g}else d.skipQuoted();return g},extractSelector:function(a,b,c){c&&(a=this.sanitize(a));for(var d,e=function(){var c=a.charAt(b);if('"'==c||"'"==c){for(;--b>=0&&(a.charAt(b)!=c||"\\"==a.charAt(b-1)););return!0}return!1},f=b;--b>=0;)if(!e())if(d=a.charAt(b),")"!=d){if("{"==d||"}"==d||";"==d){b++;break}}else for(;--b>=0&&(e()||"("!=a.charAt(b)););0>b&&(b=0);var g=a.substring(b,f),h=g.replace(p," ").match(o);return h&&(b+=h[1].length,f-=h[2].length),i.create2(b,f)},matchEnclosingRule:function(a,b){"string"==typeof a&&(a=this.findAllRules(a));var c=a.filter(function(a){return a.inside(b)});return g.last(c)},locateRule:function(a,b,c){var d=0,e=this.styleTagRange(a,b);e&&(d=e.start,b-=e.start,a=e.substring(a));var f=this.findAllRules(a),g=this.matchEnclosingRule(f,b);if(g)return g.shift(d);for(var h=0,i=f.length;i>h;h++)if(f[h].start>b)return f[c&&h>0?h-1:h].shift(d)},sanitize:function(a){a=h.strip(a);for(var b,c,e=j(a),f=[];b=e.next();)if(d(b))e.skipString(b);else if(("#"===b||"@"===b)&&(c=e.peek(),"{"===c)){if(e.start=e.pos-1,!e.skipTo("}"))throw"Invalid string interpolation at "+e.start;e.pos+=1,f.push([e.start,e.pos])}return g.replaceWith(a,f,"a")},sectionTree:function(a){var b=new f(null,a),c=this.findAllRules(a),d=function(a,c){for(;c&&c.range;){if(c.range.contains(a))return c.addChild(a);c=c.parent}return b.addChild(a)},e=b;return c.forEach(function(a){e=d(a,e)}),b},nestedSectionsInRule:function(a){var b=a.valueRange(!0).start,c=this.findAllRules(a.valueRange().substring(a.source));return c.forEach(function(a){a.start+=b,a.end+=b,a._selectorEnd+=b,a._contentStart+=b}),c},styleTagRange:function(a,b){var c=k.tag(a,b);return c&&"style"==c.open.name.toLowerCase()&&c.innerRange.cmp(b,"lte","gte")&&c.innerRange},styleAttrRange:function(a,b){var c=l.parseFromPosition(a,b,!0);if(c){var d=c.itemFromPosition(b,!0);return d&&"style"==d.name().toLowerCase()&&d.valueRange(!0).cmp(b,"lte","gte")&&d.valueRange(!0)}},CSSSection:f}})},{"../assets/htmlMatcher":"assets/htmlMatcher.js","../assets/range":"assets/range.js","../assets/stringStream":"assets/stringStream.js","../editTree/xml":"editTree/xml.js","../parser/css":"parser/css.js","./comments":"utils/comments.js","./common":"utils/common.js"}],"utils/editor.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){var d=a("./common"),e=a("../assets/resources");return{isInsideTag:function(a,b){for(var c=/^<\/?\w[\w\:\-]*.*?>/,d=b;d>-1&&"<"!=a.charAt(d);)d--;if(-1!=d){var e=c.exec(a.substring(d));if(e&&b>d&&b<d+e[0].length)return!0}return!1},outputInfo:function(a,b,c){return c=c||a.getProfileName(),{syntax:String(b||a.getSyntax()),profile:c||null,content:String(a.getContent())}},unindent:function(a,b){return d.unindentString(b,this.getCurrentLinePadding(a))},getCurrentLinePadding:function(a){return d.getLinePadding(a.getCurrentLine())},normalize:function(a,b){b=d.extend({newline:e.getNewline(),indentation:e.getVariable("indentation")},b);var c=function(a){return d.repeatString(b.indentation,a.length)},f=d.splitByLines(a);return"	"!==b.indentation&&(f=f.map(function(a){return a.replace(/^\s+/,function(a){return a.replace(/\t/g,c)})})),f.join(b.newline)}}})},{"../assets/resources":"assets/resources.js","./common":"utils/common.js"}],"utils/math.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){function b(){}return b.prototype=a,new b}function e(a,b,c,d){this.type_=a,this.index_=b||0,this.prio_=c||0,this.number_=void 0!==d&&null!==d?d:0,this.toString=function(){switch(this.type_){case t:return this.number_;case u:case v:case w:return this.index_;case x:return"CALL";default:return"Invalid Token"}}}function f(a,b,c,d){this.tokens=a,this.ops1=b,this.ops2=c,this.functions=d}function g(a){return"string"==typeof a?(y.lastIndex=0,y.test(a)?"'"+a.replace(y,function(a){var b=z[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+a+"'"):a}function h(a,b){return Number(a)+Number(b)}function i(a,b){return a-b}function j(a,b){return a*b}function k(a,b){return a/b}function l(a,b){return a%b}function m(a,b){return""+a+b}function n(a){return-a}function o(a){return Math.random()*(a||1)}function p(a){a=Math.floor(a);for(var b=a;a>1;)b*=--a;return b}function q(a,b){return Math.sqrt(a*a+b*b)}function r(a,b){return"[object Array]"!=Object.prototype.toString.call(a)?[a,b]:(a=a.slice(),a.push(b),a)}function s(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":n,exp:Math.exp},this.ops2={"+":h,"-":i,"*":j,"/":k,"%":l,"^":Math.pow,",":r,"||":m},this.functions={random:o,fac:p,min:Math.min,max:Math.max,pyt:q,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}var t=0,u=1,v=2,w=3,x=4,y=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,z={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};f.prototype={simplify:function(a){a=a||{};var b,c,g,h,i=[],j=[],k=this.tokens.length,l=0;for(l=0;k>l;l++){h=this.tokens[l];var m=h.type_;if(m===t)i.push(h);else if(m===w&&h.index_ in a)h=new e(t,0,0,a[h.index_]),i.push(h);else if(m===v&&i.length>1)c=i.pop(),b=i.pop(),g=this.ops2[h.index_],h=new e(t,0,0,g(b.number_,c.number_)),i.push(h);else if(m===u&&i.length>0)b=i.pop(),g=this.ops1[h.index_],h=new e(t,0,0,g(b.number_)),i.push(h);else{for(;i.length>0;)j.push(i.shift());j.push(h)}}for(;i.length>0;)j.push(i.shift());return new f(j,d(this.ops1),d(this.ops2),d(this.functions))},substitute:function(a,b){b instanceof f||(b=(new s).parse(String(b)));var c,g=[],h=this.tokens.length,i=0;for(i=0;h>i;i++){c=this.tokens[i];var j=c.type_;if(j===w&&c.index_===a)for(var k=0;k<b.tokens.length;k++){var l=b.tokens[k],m=new e(l.type_,l.index_,l.prio_,l.number_);g.push(m)}else g.push(c)}var n=new f(g,d(this.ops1),d(this.ops2),d(this.functions));return n},evaluate:function(a){a=a||{};var b,c,d,e,f=[],g=this.tokens.length,h=0;for(h=0;g>h;h++){e=this.tokens[h];var i=e.type_;if(i===t)f.push(e.number_);else if(i===v)c=f.pop(),b=f.pop(),d=this.ops2[e.index_],f.push(d(b,c));else if(i===w)if(e.index_ in a)f.push(a[e.index_]);else{if(!(e.index_ in this.functions))throw new Error("undefined variable: "+e.index_);f.push(this.functions[e.index_])}else if(i===u)b=f.pop(),d=this.ops1[e.index_],f.push(d(b));else{if(i!==x)throw new Error("invalid Expression");if(b=f.pop(),d=f.pop(),!d.apply||!d.call)throw new Error(d+" is not a function");"[object Array]"==Object.prototype.toString.call(b)?f.push(d.apply(void 0,b)):f.push(d.call(void 0,b))}}if(f.length>1)throw new Error("invalid Expression (parity)");return f[0]},toString:function(a){var b,c,d,e,f=[],h=this.tokens.length,i=0;for(i=0;h>i;i++){e=this.tokens[i];var j=e.type_;if(j===t)f.push(g(e.number_));else if(j===v)c=f.pop(),b=f.pop(),d=e.index_,a&&"^"==d?f.push("Math.pow("+b+","+c+")"):f.push("("+b+d+c+")");else if(j===w)f.push(e.index_);else if(j===u)b=f.pop(),d=e.index_,"-"===d?f.push("("+d+b+")"):f.push(d+"("+b+")");else{if(j!==x)throw new Error("invalid Expression");b=f.pop(),d=f.pop(),f.push(d+"("+b+")")}}if(f.length>1)throw new Error("invalid Expression (parity)");return f[0]},variables:function(){for(var a=this.tokens.length,b=[],c=0;a>c;c++){var d=this.tokens[c];d.type_===w&&-1==b.indexOf(d.index_)&&b.push(d.index_)}return b},toJSFunction:function(a,b){var c=new Function(a,"with(Parser.values) { return "+this.simplify(b).toString(!0)+"; }");return c}},s.parse=function(a){return(new s).parse(a)},s.evaluate=function(a,b){return s.parse(a).evaluate(b)},s.Expression=f,s.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:o,fac:p,exp:Math.exp,min:Math.min,max:Math.max,pyt:q,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};var A=1,B=2,C=4,D=8,E=16,F=32,G=64,H=128,I=256;return s.prototype={parse:function(a){this.errormsg="",this.success=!0;var b=[],c=[];this.tmpprio=0;var g=A|D|C|G,h=0;for(this.expression=a,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&g&G?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",h++,this.addfunc(c,b,u)),g=A|D|C|G):this.isComment()||(0===(g&B)&&this.error_parsing(this.pos,"unexpected operator"),h+=2,this.addfunc(c,b,v),g=A|D|C|G);else if(this.isNumber()){0===(g&A)&&this.error_parsing(this.pos,"unexpected number");var i=new e(t,0,0,this.tokennumber);c.push(i),g=B|E|F}else if(this.isString()){0===(g&A)&&this.error_parsing(this.pos,"unexpected string");var i=new e(t,0,0,this.tokennumber);c.push(i),g=B|E|F}else if(this.isLeftParenth())0===(g&D)&&this.error_parsing(this.pos,'unexpected "("'),g&H&&(h+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(c,b,x)),g=A|D|C|G|I;else if(this.isRightParenth()){if(g&I){var i=new e(t,0,0,[]);c.push(i)}else 0===(g&E)&&this.error_parsing(this.pos,'unexpected ")"');g=B|E|F|D|H}else if(this.isComma())0===(g&F)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(c,b,v),h+=2,g=A|D|C|G;else if(this.isConst()){0===(g&A)&&this.error_parsing(this.pos,"unexpected constant");var j=new e(t,0,0,this.tokennumber);c.push(j),g=B|E|F}else if(this.isOp2())0===(g&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(c,b,v),h+=2,g=D;else if(this.isOp1())0===(g&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(c,b,u),h++,g=D;else if(this.isVar()){0===(g&A)&&this.error_parsing(this.pos,"unexpected variable");var k=new e(w,this.tokenindex,0,0);c.push(k),g=B|E|F|D|H}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');b.length>0;){var l=b.pop();c.push(l)}return h+1!==c.length&&this.error_parsing(this.pos,"parity"),new f(c,d(this.ops1),d(this.ops2),d(this.functions))},evaluate:function(a,b){return this.parse(a).evaluate(b)},error_parsing:function(a,b){throw this.success=!1,this.errormsg="parse error [column "+a+"]: "+b,new Error(this.errormsg)},addfunc:function(a,b,c){for(var d=new e(c,this.tokenindex,this.tokenprio+this.tmpprio,0);b.length>0&&d.prio_<=b[b.length-1].prio_;)a.push(b.pop());b.push(d)},isNumber:function(){for(var a=!1,b="";this.pos<this.expression.length;){var c=this.expression.charCodeAt(this.pos);if(!(c>=48&&57>=c||46===c))break;b+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(b),a=!0}return a},unescape:function(a,b){for(var c=[],d=!1,e=0;e<a.length;e++){var f=a.charAt(e);if(d){switch(f){case"'":c.push("'");break;case"\\":c.push("\\");break;case"/":c.push("/");break;case"b":c.push("\b");break;case"f":c.push("\f");break;case"n":c.push("\n");break;case"r":c.push("\r");break;case"t":c.push("	");break;case"u":var g=parseInt(a.substring(e+1,e+5),16);c.push(String.fromCharCode(g)),e+=4;break;default:throw this.error_parsing(b+e,"Illegal escape sequence: '\\"+f+"'")}d=!1}else"\\"==f?d=!0:c.push(f)}return c.join("")},isString:function(){var a=!1,b="",c=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var d=this.expression.charAt(this.pos);if("'"==d&&"\\"!=b.slice(-1)){this.pos++,this.tokennumber=this.unescape(b,c),a=!0;break}b+=this.expression.charAt(this.pos),this.pos++}return a},isConst:function(){var a;for(var b in this.consts){var c=b.length;if(a=this.expression.substr(this.pos,c),b===a)return this.tokennumber=this.consts[b],this.pos+=c,!0}return!1},isOperator:function(){var a=this.expression.charCodeAt(this.pos);if(43===a)this.tokenprio=0,this.tokenindex="+";else if(45===a)this.tokenprio=0,this.tokenindex="-";else if(124===a){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===a)this.tokenprio=1,this.tokenindex="*";else if(47===a)this.tokenprio=2,this.tokenindex="/";else if(37===a)this.tokenprio=2,this.tokenindex="%";else{if(94!==a)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var a=this.expression.charCodeAt(this.pos-1);return 45===a||43===a?!0:!1},isPositiveSign:function(){var a=this.expression.charCodeAt(this.pos-1);return 43===a?!0:!1},isNegativeSign:function(){var a=this.expression.charCodeAt(this.pos-1);return 45===a?!0:!1},isLeftParenth:function(){var a=this.expression.charCodeAt(this.pos);return 40===a?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var a=this.expression.charCodeAt(this.pos);return 41===a?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var a=this.expression.charCodeAt(this.pos);return 44===a?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var a=this.expression.charCodeAt(this.pos);return 32===a||9===a||10===a||13===a?(this.pos++,!0):!1},isOp1:function(){for(var a="",b=this.pos;b<this.expression.length;b++){var c=this.expression.charAt(b);if(c.toUpperCase()===c.toLowerCase()&&(b===this.pos||"_"!=c&&("0">c||c>"9")))break;a+=c}return a.length>0&&a in this.ops1?(this.tokenindex=a,this.tokenprio=5,this.pos+=a.length,!0):!1},isOp2:function(){for(var a="",b=this.pos;b<this.expression.length;b++){var c=this.expression.charAt(b);if(c.toUpperCase()===c.toLowerCase()&&(b===this.pos||"_"!=c&&("0">c||c>"9")))break;a+=c}return a.length>0&&a in this.ops2?(this.tokenindex=a,this.tokenprio=5,this.pos+=a.length,!0):!1},isVar:function(){for(var a="",b=this.pos;b<this.expression.length;b++){var c=this.expression.charAt(b);if(c.toUpperCase()===c.toLowerCase()&&(b===this.pos||"_"!=c&&("0">c||c>"9")))break;a+=c}return a.length>0?(this.tokenindex=a,this.tokenprio=4,this.pos+=a.length,!0):!1},isComment:function(){var a=this.expression.charCodeAt(this.pos-1);return 47===a&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},s})},{}],"utils/template.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a){for(var b=[],c=h(a);!c.eol();)","==c.peek()&&(b.push(i.trim(c.current())),c.next(),c.start=c.pos),c.next();return b.push(i.trim(c.current())),b.filter(function(a){return!!a})}function e(a){for(var b,c=null,e=h(a);!e.eol();){if("("==e.peek()){c=e.current(),e.start=e.pos,e.skipToPair("(",")",!0),b=e.current(),b=d(b.substring(1,b.length-1));break}e.next()}return c&&{name:c,args:b}}function f(a,b){if(/^['"]/.test(a))return a.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+a))return+a;if(a){for(var c=a.split("."),d=b;c.length;)d=d[c.shift()];return d}}function g(a,b){return a.replace(/<%[=\-](.+?)%>/g,function(a,c){c=i.trim(c);var d=e(c);if(d){var g=d.args.map(function(a){return f(a,b)});return b[d.name].apply(b,g)}return f(c,b)})}var h=a("../assets/stringStream"),i=a("./common");return function(a,b){return b?g(a,b):function(b){return g(a,b)}}})},{"../assets/stringStream":"assets/stringStream.js","./common":"utils/common.js"}],"vendor/klass.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){function d(a,b,c){var d;return d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)},e.extend(d,a),f.prototype=a.prototype,d.prototype=new f,b&&e.extend(d.prototype,b),c&&e.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d}var e=a("../utils/common"),f=function(){};return{extend:function(a,b){var c=d(this,a,b);return c.extend=this.extend,a.hasOwnProperty("toString")&&(c.prototype.toString=a.toString),c}}})},{"../utils/common":"utils/common.js"}],"vendor/stringScore.js":[function(a,b,c){if("object"==typeof b&&"function"!=typeof d)var d=function(d){b.exports=d(a,c,b)};d(function(a,b,c){return{score:function(a,b,c){if(a==b)return 1;if(""==b)return 0;for(var d,e,f,g,h,i,j,k,l,m=0,n=b.length,o=a.length,p=1,q=0;n>q;++q){if(i=b.charAt(q),j=a.indexOf(i.toLowerCase()),k=a.indexOf(i.toUpperCase()),l=Math.min(j,k),h=l>-1?l:Math.max(j,k),-1===h){if(c){p+=1-c;continue}return 0}g=.1,a[h]===i&&(g+=.1),0===h?(g+=.6,0===q&&(d=1)):" "===a.charAt(h-1)&&(g+=.8),a=a.substring(h+1,o),m+=g}return e=m/n,f=(e*(n/o)+e)/2,f/=p,d&&1>f+.15&&(f+=.15),f}}})},{}]},{},["./lib/emmet.js"])("./lib/emmet.js")}),function(){var a=[].slice;!function(b,c){var d,e,f,g,h,i,j,k;return i=(1,eval)("this"),g=i.jasmineFixture,f=null!=(k=i.jasmine)?k.fixture:void 0,e=i.affix,h=function(){return delete i.emmet,i.hasOwnProperty("__jasmineFixtureEmmetNoConflict")?(i.emmet=i.__jasmineFixtureEmmetNoConflict,delete i.__jasmineFixtureEmmetNoConflict):void 0}(),j=function(a){return{inject:function(b,c){var d,e,f,g;for(g=[],e=0,f=a.length;f>e;e++)d=a[e],g.push(c=b(c,d));return g}}},i.jasmineFixture=function(a){var b,d,h,k,l,m;return d=function(a){return h.call(this,a,!0)},h=function(d,e){var f;return f=null,j(d.trim().split(/[ ](?![^\{]*\})(?=[^\]]*?(?:\[|$))/)).inject(function(b,d){var g;return">"===d?b:(g=a(c.parser.expand(d)),(e||f)&&g.appendTo(b),f||(f=g),g)},b(this)),f},m=function(){var a,b;return a=jasmine.fixture,i.jasmineFixture=g,null!=(b=i.jasmine)&&(b.fixture=f),i.affix=e,a},b=function(b){return null!=(null!=b?b.jquery:void 0)?b:a("#jasmine_content").length>0?a("#jasmine_content"):a('<div id="jasmine_content"></div>').appendTo("body")},k=function(b){var c;return null!=(c=i.jasmine)&&(c.fixture=b),a.fn.affix=i.affix=b.affix,afterEach(function(){return a("#jasmine_content").remove()})},l={affix:d,create:h,noConflict:m},k(l),l},b?d=i.jasmineFixture(b):i.affix=function(){var b;if(b=window.jQuery||window.$,null!=b)return d=i.jasmineFixture(b),affix.call.apply(affix,[this].concat(a.call(arguments)));throw new Error("jasmine-fixture requires jQuery to be defined at window.jQuery or window.$")}}(window.jQuery||window.$,emmet)}.call(this);